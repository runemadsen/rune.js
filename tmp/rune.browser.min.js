!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Rune=e()}}(function(){var e;return function n(e,t,r){function i(o,s){if(!t[o]){if(!e[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=t[o]={exports:{}};e[o][0].call(c.exports,function(t){var n=e[o][1][t];return i(n?n:t)},c,c.exports,n,e,t,r)}return t[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(n,r,i){!function(){"use strict";var n=Math.abs,i=Math.min,a=Math.max,o=Math.cos,s=Math.sin,u=Math.acos,l=(Math.asin,Math.atan2),c=Math.sqrt,h=function(e){return 0>e?-Math.pow(-e,1/3):Math.pow(e,1/3)},f=Math.PI,v=2*f,d=f/2,p={x:0,y:0,z:0},y={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,t){var n=t(e),r=n.x*n.x+n.y*n.y;return"undefined"!=typeof n.z&&(r+=n.z*n.z),c(r)},length:function(e){var t,n,r=.5,i=0,a=this.Tvalues.length;for(t=0;a>t;t++)n=r*this.Tvalues[t]+r,i+=this.Cvalues[t]*this.arcfn(n,e);return r*i},map:function(e,t,n,r,i){var a=n-t,o=i-r,s=e-t,u=s/a;return r+o*u},lerp:function(e,t,n){var r={x:t.x+e*(n.x-t.x),y:t.y+e*(n.y-t.y)};return t.z&&n.z&&(r.z=t.z+e*(n.z-t.z)),r},pointToString:function(e){var t=e.x+"/"+e.y;return"undefined"!=typeof e.z&&(t+="/"+e.z),t},pointsToString:function(e){return"["+e.map(this.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,t,n){var r,i=t.x-e.x,a=t.y-e.y,o=n.x-e.x,s=n.y-e.y,u=i*s-a*o,h=c(i*i+a*a),f=c(o*o+s*s);return i/=h,a/=h,o/=f,s/=f,r=i*o+a*s,l(u,r)},dist:function(e,t){var n=e.x-t.x,r=e.y-t.y;return c(n*n+r*r)},lli8:function(e,t,n,r,i,a,o,s){var u=(e*r-t*n)*(i-o)-(e-n)*(i*s-a*o),l=(e*r-t*n)*(a-s)-(t-r)*(i*s-a*o),c=(e-n)*(a-s)-(t-r)*(i-o);return 0==c?!1:{x:u/c,y:l/c}},lli4:function(e,t,n,r){var i=e.x,a=e.y,o=t.x,s=t.y,u=n.x,l=n.y,c=r.x,h=r.y;return this.lli8(i,a,o,s,u,l,c,h)},lli:function(e,t){return this.lli4(e,e.c,t,t.c)},makeline:function(e,t){var n=e.x,r=e.y,i=t.x,a=t.y,o=(i-n)/3,s=(a-r)/3;return new m(n,r,n+o,r+s,n+2*o,r+2*s,i,a)},findbbox:function(e){var t=99999999,n=t,r=-t,i=r;return e.forEach(function(e){var a=e.bbox();t>a.x.min&&(t=a.x.min),n>a.y.min&&(n=a.y.min),r<a.x.max&&(r=a.x.max),i<a.y.max&&(i=a.y.max)}),{x:{min:t,mid:(t+r)/2,max:r,size:r-t},y:{min:n,mid:(n+i)/2,max:i,size:i-n}}},shapeintersections:function(e,t,n,r){if(!this.bboxoverlap(t,r))return[];var i=[],a=[e.startcap,e.forward,e.back,e.endcap],o=[n.startcap,n.forward,n.back,n.endcap];return a.forEach(function(t){t.virtual||o.forEach(function(r){if(!r.virtual){var a=t.intersects(r);a.length>0&&(a.c1=t,a.c2=r,a.s1=e,a.s2=n,i.push(a))}})}),i},makeshape:function(e,t){var n=t.points.length,r=e.points.length,i=this.makeline(t.points[n-1],e.points[0]),a=this.makeline(e.points[r-1],t.points[0]),o={startcap:i,forward:e,back:t,endcap:a,bbox:this.findbbox([i,e,t,a])},s=this;return o.intersections=function(e){return s.shapeintersections(o,o.bbox,e,e.bbox)},o},getminmax:function(e,t,n){if(!n)return{min:0,max:0};var r,i,a=0x10000000000000000,o=-a;-1===n.indexOf(0)&&(n=[0].concat(n)),-1===n.indexOf(1)&&n.push(1);for(var s=0,u=n.length;u>s;s++)r=n[s],i=e.get(r),i[t]<a&&(a=i[t]),i[t]>o&&(o=i[t]);return{min:a,mid:(a+o)/2,max:o,size:o-a}},align:function(e,t){var n=t.p1.x,r=t.p1.y,i=-l(t.p2.y-r,t.p2.x-n),a=function(e){return{x:(e.x-n)*o(i)-(e.y-r)*s(i),y:(e.x-n)*s(i)+(e.y-r)*o(i)}};return e.map(a)},roots:function(e,t){t=t||{p1:{x:0,y:0},p2:{x:1,y:0}};var n=e.length-1,r=this.align(e,t),i=function(e){return e>=0&&1>=e};if(2===n){var a=r[0].y,s=r[1].y,l=r[2].y,f=a-2*s+l;if(0!==f){var d=-c(s*s-a*l),p=-a+s,y=-(d+p)/f,g=-(-d+p)/f;return[y,g].filter(i)}return s!==l&&0===f?[(2*s-l)/2*(s-l)].filter(i):[]}var m,y,b,x,k,w=r[0].y,_=r[1].y,M=r[2].y,S=r[3].y,f=-w+3*_-3*M+S,a=(3*w-6*_+3*M)/f,s=(-3*w+3*_)/f,l=w/f,r=(3*s-a*a)/3,j=r/3,z=(2*a*a*a-9*a*s+27*l)/27,O=z/2,A=O*O+j*j*j;if(0>A){var T=-r/3,E=T*T*T,V=c(E),C=-z/(2*V),P=-1>C?-1:C>1?1:C,N=u(P),L=h(V),R=2*L;return b=R*o(N/3)-a/3,x=R*o((N+v)/3)-a/3,k=R*o((N+2*v)/3)-a/3,[b,x,k].filter(i)}if(0===A)return m=0>O?h(-O):-h(O),b=2*m-a/3,x=-m-a/3,[b,x].filter(i);var q=c(A);return m=h(-O+q),y=h(O+q),[m-y-a/3].filter(i)},droots:function(e){if(3===e.length){var t=e[0],n=e[1],r=e[2],i=t-2*n+r;if(0!==i){var a=-c(n*n-t*r),o=-t+n,s=-(a+o)/i,u=-(-a+o)/i;return[s,u]}return n!==r&&0===i?[(2*n-r)/(2*(n-r))]:[]}if(2===e.length){var t=e[0],n=e[1];return t!==n?[t/(t-n)]:[]}},bboxoverlap:function(e,t){var r,i,a,o,s,u=["x","y"],l=u.length;for(r=0;l>r;r++)if(i=u[r],a=e[i].mid,o=t[i].mid,s=(e[i].size+t[i].size)/2,n(a-o)>=s)return!1;return!0},expandbox:function(e,t){t.x.min<e.x.min&&(e.x.min=t.x.min),t.y.min<e.y.min&&(e.y.min=t.y.min),t.z&&t.z.min<e.z.min&&(e.z.min=t.z.min),t.x.max>e.x.max&&(e.x.max=t.x.max),t.y.max>e.y.max&&(e.y.max=t.y.max),t.z&&t.z.max>e.z.max&&(e.z.max=t.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,t){var n=e.bbox(),r=t.bbox(),i=1e5,a=.5;if(n.x.size+n.y.size<a&&r.x.size+r.y.size<a)return[(i*(e._t1+e._t2)/2|0)/i+"/"+(i*(t._t1+t._t2)/2|0)/i];var o=e.split(.5),s=t.split(.5),u=[{left:o.left,right:s.left},{left:o.left,right:s.right},{left:o.right,right:s.right},{left:o.right,right:s.left}];u=u.filter(function(e){return y.bboxoverlap(e.left.bbox(),e.right.bbox())});var l=[];return 0===u.length?l:(u.forEach(function(e){l=l.concat(y.pairiteration(e.left,e.right))}),l=l.filter(function(e,t){return l.indexOf(e)===t}))},getccenter:function(e,t,n){var r,i=t.x-e.x,a=t.y-e.y,u=n.x-t.x,c=n.y-t.y,h=i*o(d)-a*s(d),f=i*s(d)+a*o(d),p=u*o(d)-c*s(d),g=u*s(d)+c*o(d),m=(e.x+t.x)/2,b=(e.y+t.y)/2,x=(t.x+n.x)/2,k=(t.y+n.y)/2,w=m+h,_=b+f,M=x+p,S=k+g,j=y.lli8(m,b,w,_,x,k,M,S),z=y.dist(j,e),O=l(e.y-j.y,e.x-j.x),A=l(t.y-j.y,t.x-j.x),T=l(n.y-j.y,n.x-j.x);return T>O?((O>A||A>T)&&(O+=v),O>T&&(r=T,T=O,O=r)):A>T&&O>A?(r=T,T=O,O=r):T+=v,j.s=O,j.e=T,j.r=z,j}},g=function(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)};g.prototype={valueOf:function(){return this.toString()},toString:function(){return y.pointsToString(this.points)},addCurve:function(e){this.curves.push(e),this._3d=this._3d||e._3d},length:function(){return this.curves.map(function(e){return e.length()}).reduce(function(e,t){return e+t})},curve:function(e){return this.curves[e]},bbox:function(){for(var e=this.curves,t=e[0].bbox(),n=1;n<e.length;n++)y.expandbox(t,e[n].bbox());return t},offset:function(e){var t=[];return this.curves.forEach(function(n){t=t.concat(n.offset(e))}),new g(t)}};var m=function(e){var t=e&&e.forEach?e:arguments;if("object"==typeof t[0]){t=[];for(var r=0;r<e.length;r++)["x","y","z"].forEach(function(n){"undefined"!=typeof e[r][n]&&t.push(e[r][n])})}var i=t.length;if(6!==i&&8!==i&&9!==i&&12!==i)throw console.log(e),new Error("This Bezier curve library only supports quadratic and cubic curves (in 2d and 3d)");var a=9===i||12===i;this._3d=a;for(var o=[],s=0,u=a?3:2;i>s;s+=u){var l={x:t[s],y:t[s+1]};a&&(l.z=t[s+2]),o.push(l)}this.order=o.length-1,this.points=o;var c=["x","y"];a&&c.push("z"),this.dims=c,this.dimlen=c.length,function(e){for(var t=y.align(o,{p1:o[0],p2:o[e.order]}),r=0;r<t.length;r++)if(n(t[r].y)>1e-4)return void(e._linear=!1);e._linear=!0}(this),this._t1=0,this._t2=1,this.update()};m.fromSVG=function(e){var t=e.match(/[-+]?\d*\.?\d+(?:[eE][-+]?\d+)?/g).map(parseFloat),n=/[cq]/.test(e);return n?(t=t.map(function(e,n){return 2>n?e:e+t[n%2]}),new m(t)):new m(t)},m.utils=y,m.prototype={valueOf:function(){return this.toString()},toString:function(){return y.pointsToString(this.points)},toSVG:function(e){if(this._3d)return!1;for(var t=this.points,n=t[0].x,r=t[0].y,i=["M",n,r,2===this.order?"Q":"C"],a=1,o=t.length;o>a;a++)i.push(t[a].x),i.push(t[a].y);return i.join(" ")},update:function(){this.dpoints=[];for(var e=this.points,t=e.length,n=t-1;t>1;t--,n--){for(var r,i=[],a=0;n>a;a++)r={x:n*(e[a+1].x-e[a].x),y:n*(e[a+1].y-e[a].y)},this._3d&&(r.z=n*(e[a+1].z-e[a].z)),i.push(r);this.dpoints.push(i),e=i}this.computedirection()},computedirection:function(){var e=this.points,t=y.angle(e[0],e[this.order],e[1]);this.clockwise=t>0},length:function(){return y.length(this.derivative.bind(this))},getLUT:function(e){e=e||100;for(var t=[],n=0;e>=n;n++)t.push(this.compute(n/e));return t},get:function(e){return this.compute(e)},point:function(e){return this.points[e]},compute:function(e){if(0===e)return this.points[0];if(1===e)return this.points[this.order];var t,n,r,i=1-e,a=i*i,o=e*e,s=0,u=this.points;2===this.order&&(u=[u[0],u[1],u[2],p],t=a,n=i*e*2,r=o),3===this.order&&(t=a*i,n=a*e*3,r=i*o*3,s=e*o);var l={x:t*u[0].x+n*u[1].x+r*u[2].x+s*u[3].x,y:t*u[0].y+n*u[1].y+r*u[2].y+s*u[3].y};return this._3d&&(l.z=t*u[0].z+n*u[1].z+r*u[2].z+s*u[3].z),l},raise:function(){for(var e,t,n,r=this.points,i=[r[0]],a=r.length,e=1;a>e;e++)t=r[e],n=r[e-1],i[e]={x:(a-e)/a*t.x+e/a*n.x,y:(a-e)/a*t.y+e/a*n.y};return i[a]=r[a-1],new m(i)},derivative:function(e){var t,n,r=1-e,i=0,a=this.dpoints[0];2===this.order&&(a=[a[0],a[1],p],t=r,n=e),3===this.order&&(t=r*r,n=r*e*2,i=e*e);var o={x:t*a[0].x+n*a[1].x+i*a[2].x,y:t*a[0].y+n*a[1].y+i*a[2].y};return this._3d&&(o.z=t*a[0].z+n*a[1].z+i*a[2].z),o},normal:function(e){return this._3d?this.__normal3(e):this.__normal2(e)},__normal2:function(e){var t=this.derivative(e),n=c(t.x*t.x+t.y*t.y);return{x:-t.y/n,y:t.x/n}},__normal3:function(){var e=this.derivative(t),n=this.derivative(t+.01),r=c(e.x*e.x+e.y*e.y+e.z*e.z),i=c(n.x*n.x+n.y*n.y+n.z*n.z);e.x/=r,e.y/=r,e.z/=r,n.x/=i,n.y/=i,n.z/=i;var a={x:n.y*e.z-n.z*e.y,y:n.z*e.x-n.x*e.z,z:n.x*e.y-n.y*e.x},o=c(a.x*a.x+a.y*a.y+a.z*a.z);a.x/=o,a.y/=o,a.z/=o;var s=[a.x*a.x,a.x*a.y-a.z,a.x*a.z+a.y,a.x*a.y+a.z,a.y*a.y,a.y*a.z-a.x,a.x*a.z-a.y,a.y*a.z+a.x,a.z*a.z],u={x:s[0]*e.x+s[1]*e.y+s[2]*e.z,y:s[3]*e.x+s[4]*e.y+s[5]*e.z,z:s[6]*e.x+s[7]*e.y+s[8]*e.z};return u},split:function(e,t){if(0===e&&t)return this.split(t).left;if(1===t)return this.split(e).right;var n,r=this.points,i=[],a=[],o=0,s=0,u=0;for(a[o++]=r[0],a[o++]=r[1],a[o++]=r[2],3===this.order&&(a[o++]=r[3]);r.length>1;){for(i=[],s=0,u=r.length-1;u>s;s++)n=y.lerp(e,r[s],r[s+1]),a[o++]=n,i.push(n);r=i}var l={left:new m(2===this.order?[a[0],a[3],a[5]]:[a[0],a[4],a[7],a[9]]),right:new m(2===this.order?[a[5],a[4],a[2]]:[a[9],a[8],a[6],a[3]]),span:a};if(l.left._t1=y.map(0,0,1,this._t1,this._t2),l.left._t2=y.map(e,0,1,this._t1,this._t2),l.right._t1=y.map(e,0,1,this._t1,this._t2),l.right._t2=y.map(1,0,1,this._t1,this._t2),!t)return l;t=y.map(t,e,1,0,1);var c=l.right.split(t);return c.left},inflections:function(){var e,t,n=this.dims,r=(this.dimlen,{}),i=[];return n.forEach(function(n){t=function(e){return e[n]},e=this.dpoints[0].map(t),r[n]=y.droots(e),3===this.order&&(e=this.dpoints[1].map(t),r[n]=r[n].concat(y.droots(e))),r[n]=r[n].filter(function(e){return e>=0&&1>=e}),i=i.concat(r[n].sort())}.bind(this)),i.sort(),r.values=i,r},bbox:function(){var e=this.inflections(),t={};return this.dims.forEach(function(n){t[n]=y.getminmax(this,n,e[n])}.bind(this)),t},overlaps:function(e){var t=this.bbox(),n=e.bbox();return y.bboxoverlap(t,n)},offset:function(e,t){if("undefined"!=typeof t){var n=this.get(e),r=this.normal(e),i={c:n,n:r,x:n.x+r.x*t,y:n.y+r.y*t};return this._3d&&(i.z=n.z+r.z*t),i}if(this._linear){var a=this.normal(0),o=this.points.map(function(t){var n={x:t.x+e*a.x,y:t.y+e*a.y};return t.z&&r.z&&(n.z=t.z+e*a.z),n});return[new m(o)]}var s=this.reduce();return s.map(function(t){return t.scale(e)})},simple:function(){if(3===this.order){var e=y.angle(this.points[0],this.points[3],this.points[1]),t=y.angle(this.points[0],this.points[3],this.points[2]);if(e>0&&0>t||0>e&&t>0)return!1}var r=this.normal(0),i=this.normal(1),a=r.x*i.x+r.y*i.y;this._3d&&(a+=r.z*i.z);var o=n(u(a));return f/3>o},reduce:function(){var e,t,r=0,i=0,a=.01,o=[],s=[],u=this.inflections().values;for(-1===u.indexOf(0)&&(u=[0].concat(u)),-1===u.indexOf(1)&&u.push(1),r=u[0],e=1;e<u.length;e++)i=u[e],t=this.split(r,i),t._t1=r,t._t2=i,o.push(t),r=i;return o.forEach(function(e){for(r=0,i=0;1>=i;)for(i=r+a;1+a>=i;i+=a)if(t=e.split(r,i),!t.simple()){if(i-=a,n(r-i)<a)return[];t=e.split(r,i),t._t1=y.map(r,0,1,e._t1,e._t2),t._t2=y.map(i,0,1,e._t1,e._t2),s.push(t),r=i;break}1>r&&(t=e.split(r,1),t._t1=y.map(r,0,1,e._t1,e._t2),t._t2=e._t2,s.push(t))}),s},scale:function(e){var t=this.order,n=!1;if("function"==typeof e&&(n=e),n&&2===t)return this.raise().scale(n);var r=this.clockwise,i=n?n(0):e,a=n?n(1):e,o=[this.offset(0,10),this.offset(1,10)],s=y.lli4(o[0],o[0].c,o[1],o[1].c);if(!s)throw"cannot scale this curve. Try reducing it first.";var u=this.points,l=[];return[0,1].forEach(function(e){var n=l[e*t]=y.copy(u[e*t]);n.x+=(e?a:i)*o[e].n.x,n.y+=(e?a:i)*o[e].n.y}.bind(this)),n?([0,1].forEach(function(i){if(2!==this.order||!i){var a=u[i+1],o={x:a.x-s.x,y:a.y-s.y},h=n?n((i+1)/t):e;n&&!r&&(h=-h);var f=c(o.x*o.x+o.y*o.y);o.x/=f,o.y/=f,l[i+1]={x:a.x+h*o.x,y:a.y+h*o.y}}}.bind(this)),new m(l)):([0,1].forEach(function(e){if(2!==this.order||!e){var n=l[e*t],r=this.derivative(e),i={x:n.x+r.x,y:n.y+r.y};l[e+1]=y.lli4(n,i,s,u[e+1])}}.bind(this)),new m(l))},outline:function(e,t,n,r){function i(e,t,n,r,i){return function(a){var o=r/n,s=(r+i)/n,u=t-e;return y.map(a,0,1,e+o*u,e+s*u)}}t="undefined"==typeof t?e:t;var a,o=this.reduce(),s=o.length,u=(this.order,[]),l=[],c=0,h=this.length(),f="undefined"!=typeof n&&"undefined"!=typeof r;o.forEach(function(a){w=a.length(),f?(u.push(a.scale(i(e,n,h,c,w))),l.push(a.scale(i(-t,-r,h,c,w)))):(u.push(a.scale(e)),l.push(a.scale(-t))),c+=w}),l=l.map(function(e){return a=e.points,a[3]?e.points=[a[3],a[2],a[1],a[0]]:e.points=[a[2],a[1],a[0]],e}).reverse();var v=u[0].points[0],d=u[s-1].points[u[s-1].points.length-1],p=l[s-1].points[l[s-1].points.length-1],m=l[0].points[0],b=y.makeline(p,v),x=y.makeline(d,m),k=[b].concat(u).concat([x]).concat(l),w=k.length;return new g(k)},outlineshapes:function(e,t){t=t||e;for(var n=this.outline(e,t).curves,r=[],i=1,a=n.length;a/2>i;i++){var o=y.makeshape(n[i],n[a-i]);o.startcap.virtual=i>1,o.endcap.virtual=a/2-1>i,r.push(o)}return r},intersects:function(e){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof m&&(e=e.reduce()),this.curveintersects(this.reduce(),e)):this.selfintersects()},lineIntersects:function(e){var t=i(e.p1.x,e.p2.x),n=i(e.p1.y,e.p2.y),r=a(e.p1.x,e.p2.x),o=a(e.p1.y,e.p2.y),s=this;return y.roots(this.points,e).filter(function(e){var i=s.get(e);return t<=i.x&&i.x<=r&&n<=i.y&&i.y<=o})},selfintersects:function(){var e,t,n,r,i=this.reduce(),a=i.length-2,o=[];for(e=0;a>e;e++)n=i.slice(e,e+1),r=i.slice(e+2),t=this.curveintersects(n,r),o=o.concat(t);return o},curveintersects:function(e,t){var n=[];e.forEach(function(e){t.forEach(function(t){e.overlaps(t)&&n.push({left:e,right:t})})});var r=[];return n.forEach(function(e){var t=y.pairiteration(e.left,e.right);t.length>0&&(r=r.concat(t))}),r},arcs:function(e){e=e||.5;var t=[];return this._iterate(e,t)},_error:function(e,t,r,i){var a=(i-r)/4,o=this.get(r+a),s=this.get(i-a),u=y.dist(e,t),l=y.dist(e,o),c=y.dist(e,s);return n(l-u)+n(c-u)},_iterate:function(e,t){var n,r=0,i=1;do{n=0,i=1;var a,o,s,u,l,c=this.get(r),h=!1,f=!1,v=i,d=1,p=0;do{f=h,u=s,v=(r+i)/2,p++,a=this.get(v),o=this.get(i),s=y.getccenter(c,a,o);var g=this._error(s,c,r,i);if(h=e>=g,l=f&&!h,l||(d=i),h){if(i>=1){d=1,u=s;break}i+=(i-r)/2}else i=v}while(!l&&n++<100);if(n>=100){console.error("arc abstraction somehow failed...");break}u=u?u:s,t.push(u),r=d}while(1>i);return t}},"undefined"!=typeof r&&r.exports?r.exports=m:"undefined"!=typeof e?e(function(){return m}):"undefined"!=typeof window&&(window.Bezier=m)}()},{}],2:[function(e,t,n){t.exports=e("./bezier")},{"./bezier":1}],3:[function(e,t,n){},{}],4:[function(e,t,n){function i(e){var t,n,r,i=e[0]/255,a=e[1]/255,o=e[2]/255,s=Math.min(i,a,o),u=Math.max(i,a,o),l=u-s;return u==s?t=0:i==u?t=(a-o)/l:a==u?t=2+(o-i)/l:o==u&&(t=4+(i-a)/l),t=Math.min(60*t,360),0>t&&(t+=360),r=(s+u)/2,n=u==s?0:.5>=r?l/(u+s):l/(2-u-s),[t,100*n,100*r]}function a(e){var t,n,r,i=e[0],a=e[1],o=e[2],s=Math.min(i,a,o),u=Math.max(i,a,o),l=u-s;return n=0==u?0:l/u*1e3/10,u==s?t=0:i==u?t=(a-o)/l:a==u?t=2+(o-i)/l:o==u&&(t=4+(i-a)/l),t=Math.min(60*t,360),0>t&&(t+=360),r=u/255*1e3/10,[t,n,r]}function o(e){var t=e[0],n=e[1],r=e[2],a=i(e)[0],o=1/255*Math.min(t,Math.min(n,r)),r=1-1/255*Math.max(t,Math.max(n,r));return[a,100*o,100*r]}function s(e){var t,n,r,i,a=e[0]/255,o=e[1]/255,s=e[2]/255;return i=Math.min(1-a,1-o,1-s),t=(1-a-i)/(1-i)||0,n=(1-o-i)/(1-i)||0,r=(1-s-i)/(1-i)||0,[100*t,100*n,100*r,100*i]}function u(e){return $[JSON.stringify(e)]}function l(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var i=.4124*t+.3576*n+.1805*r,a=.2126*t+.7152*n+.0722*r,o=.0193*t+.1192*n+.9505*r;return[100*i,100*a,100*o]}function c(e){var t,n,r,i=l(e),a=i[0],o=i[1],s=i[2];return a/=95.047,o/=100,s/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,t=116*o-16,n=500*(a-o),r=200*(o-s),[t,n,r]}function h(e){return q(c(e))}function f(e){var t,n,r,i,a,o=e[0]/360,s=e[1]/100,u=e[2]/100;if(0==s)return a=255*u,[a,a,a];n=.5>u?u*(1+s):u+s-u*s,t=2*u-n,i=[0,0,0];for(var l=0;3>l;l++)r=o+1/3*-(l-1),0>r&&r++,r>1&&r--,a=1>6*r?t+6*(n-t)*r:1>2*r?n:2>3*r?t+(n-t)*(2/3-r)*6:t,i[l]=255*a;return i}function v(e){var t,n,r=e[0],i=e[1]/100,a=e[2]/100;return 0===a?[0,0,0]:(a*=2,i*=1>=a?a:2-a,n=(a+i)/2,t=2*i/(a+i),[r,100*t,100*n])}function d(e){return o(f(e))}function p(e){return s(f(e))}function y(e){return u(f(e))}function m(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,a=t-Math.floor(t),o=255*r*(1-n),s=255*r*(1-n*a),u=255*r*(1-n*(1-a)),r=255*r;switch(i){case 0:return[r,u,o];case 1:return[s,r,o];case 2:return[o,r,u];case 3:return[o,s,r];case 4:return[u,o,r];case 5:return[r,o,s]}}function x(e){var t,n,r=e[0],i=e[1]/100,a=e[2]/100;return n=(2-i)*a,t=i*a,t/=1>=n?n:2-n,t=t||0,n/=2,[r,100*t,100*n]}function k(e){return o(m(e))}function w(e){return s(m(e))}function _(e){return u(m(e))}function M(e){var t,n,i,a,o=e[0]/360,s=e[1]/100,u=e[2]/100,l=s+u;switch(l>1&&(s/=l,u/=l),t=Math.floor(6*o),n=1-u,i=6*o-t,0!=(1&t)&&(i=1-i),a=s+i*(n-s),t){default:case 6:case 0:r=n,g=a,b=s;break;case 1:r=a,g=n,b=s;break;case 2:r=s,g=n,b=a;break;case 3:r=s,g=a,b=n;break;case 4:r=a,g=s,b=n;break;case 5:r=n,g=s,b=a}return[255*r,255*g,255*b]}function S(e){return i(M(e))}function j(e){return a(M(e))}function z(e){return s(M(e))}function O(e){return u(M(e))}function A(e){var t,n,r,i=e[0]/100,a=e[1]/100,o=e[2]/100,s=e[3]/100;return t=1-Math.min(1,i*(1-s)+s),n=1-Math.min(1,a*(1-s)+s),r=1-Math.min(1,o*(1-s)+s),[255*t,255*n,255*r]}function T(e){return i(A(e))}function E(e){return a(A(e))}function V(e){return o(A(e))}function C(e){return u(A(e))}function P(e){var t,n,r,i=e[0]/100,a=e[1]/100,o=e[2]/100;return t=3.2406*i+-1.5372*a+o*-.4986,n=i*-.9689+1.8758*a+.0415*o,r=.0557*i+a*-.204+1.057*o,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:t=12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n=12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r=12.92*r,t=Math.min(Math.max(0,t),1),n=Math.min(Math.max(0,n),1),r=Math.min(Math.max(0,r),1),[255*t,255*n,255*r]}function N(e){var t,n,r,i=e[0],a=e[1],o=e[2];return i/=95.047,a/=100,o/=108.883,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,t=116*a-16,n=500*(i-a),r=200*(a-o),[t,n,r]}function L(e){return q(N(e))}function R(e){var t,n,r,i,a=e[0],o=e[1],s=e[2];return 8>=a?(n=100*a/903.3,i=7.787*(n/100)+16/116):(n=100*Math.pow((a+16)/116,3),i=Math.pow(n/100,1/3)),t=.008856>=t/95.047?t=95.047*(o/500+i-16/116)/7.787:95.047*Math.pow(o/500+i,3),r=.008859>=r/108.883?r=108.883*(i-s/200-16/116)/7.787:108.883*Math.pow(i-s/200,3),[t,n,r]}function q(e){var t,n,r,i=e[0],a=e[1],o=e[2];return t=Math.atan2(o,a),n=360*t/2/Math.PI,0>n&&(n+=360),r=Math.sqrt(a*a+o*o),[i,r,n]}function G(e){return P(R(e))}function F(e){var t,n,r,i=e[0],a=e[1],o=e[2];return r=o/360*2*Math.PI,t=a*Math.cos(r),n=a*Math.sin(r),[i,t,n]}function U(e){return R(F(e))}function I(e){return G(F(e))}function D(e){return K[e]}function H(e){return i(D(e))}function W(e){return a(D(e))}function B(e){return o(D(e))}function X(e){return s(D(e))}function Y(e){return c(D(e))}function J(e){return l(D(e))}t.exports={rgb2hsl:i,rgb2hsv:a,rgb2hwb:o,rgb2cmyk:s,rgb2keyword:u,rgb2xyz:l,rgb2lab:c,rgb2lch:h,hsl2rgb:f,hsl2hsv:v,hsl2hwb:d,hsl2cmyk:p,hsl2keyword:y,hsv2rgb:m,hsv2hsl:x,hsv2hwb:k,hsv2cmyk:w,hsv2keyword:_,hwb2rgb:M,hwb2hsl:S,hwb2hsv:j,hwb2cmyk:z,hwb2keyword:O,cmyk2rgb:A,cmyk2hsl:T,cmyk2hsv:E,cmyk2hwb:V,cmyk2keyword:C,keyword2rgb:D,keyword2hsl:H,keyword2hsv:W,keyword2hwb:B,keyword2cmyk:X,keyword2lab:Y,keyword2xyz:J,xyz2rgb:P,xyz2lab:N,xyz2lch:L,lab2xyz:R,lab2rgb:G,lab2lch:q,lch2lab:F,lch2xyz:U,lch2rgb:I};var K={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},$={};for(var Z in K)$[JSON.stringify(K[Z])]=Z},{}],5:[function(e,t,n){var r=e("./conversions"),i=function(){return new l};for(var a in r){i[a+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),r[e](t)}}(a);var o=/(\w+)2(\w+)/.exec(a),s=o[1],u=o[2];i[s]=i[s]||{},i[s][u]=i[a]=function(e){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var n=r[e](t);if("string"==typeof n||void 0===n)return n;for(var i=0;i<n.length;i++)n[i]=Math.round(n[i]);return n}}(a)}var l=function(){this.convs={}};l.prototype.routeSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n))},l.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},l.prototype.getValues=function(e){var t=this.convs[e];if(!t){var n=this.space,r=this.convs[n];t=i[n][e](r),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){l.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),t.exports=i},{"./conversions":4}],6:[function(e,t,n){function r(e){if(e){var t=/^#([a-fA-F0-9]{3})$/,n=/^#([a-fA-F0-9]{6})$/,r=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,a=/(\D+)/,o=[0,0,0],s=1,u=e.match(t);if(u){u=u[1];for(var l=0;l<o.length;l++)o[l]=parseInt(u[l]+u[l],16)}else if(u=e.match(n)){u=u[1];for(var l=0;l<o.length;l++)o[l]=parseInt(u.slice(2*l,2*l+2),16)}else if(u=e.match(r)){for(var l=0;l<o.length;l++)o[l]=parseInt(u[l+1]);s=parseFloat(u[4])}else if(u=e.match(i)){for(var l=0;l<o.length;l++)o[l]=Math.round(2.55*parseFloat(u[l+1]));s=parseFloat(u[4])}else if(u=e.match(a)){if("transparent"==u[1])return[0,0,0,0];if(o=x[u[1]],!o)return}for(var l=0;l<o.length;l++)o[l]=m(o[l],0,255);return s=s||0==s?m(s,0,1):1,o[3]=s,o}}function i(e){if(e){var t=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var r=parseFloat(n[4]),i=m(parseInt(n[1]),0,360),a=m(parseFloat(n[2]),0,100),o=m(parseFloat(n[3]),0,100),s=m(isNaN(r)?1:r,0,1);return[i,a,o,s]}}}function a(e){if(e){var t=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var r=parseFloat(n[4]),i=m(parseInt(n[1]),0,360),a=m(parseFloat(n[2]),0,100),o=m(parseFloat(n[3]),0,100),s=m(isNaN(r)?1:r,0,1);return[i,a,o,s]}}}function o(e){var t=r(e);return t&&t.slice(0,3)}function s(e){var t=i(e);return t&&t.slice(0,3)}function u(e){var t=r(e);return t?t[3]:(t=i(e))?t[3]:(t=a(e))?t[3]:void 0}function l(e){return"#"+b(e[0])+b(e[1])+b(e[2])}function c(e,t){return 1>t||e[3]&&e[3]<1?h(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}function h(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function f(e,t){if(1>t||e[3]&&e[3]<1)return v(e,t);var n=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),i=Math.round(e[2]/255*100);return"rgb("+n+"%, "+r+"%, "+i+"%)"}function v(e,t){var n=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),i=Math.round(e[2]/255*100);return"rgba("+n+"%, "+r+"%, "+i+"%, "+(t||e[3]||1)+")"}function d(e,t){return 1>t||e[3]&&e[3]<1?p(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"}function p(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function y(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"}function g(e){return k[e.slice(0,3)]}function m(e,t,n){return Math.min(Math.max(t,e),n)}function b(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var x=e("color-name");t.exports={getRgba:r,getHsla:i,getRgb:o,getHsl:s,getHwb:a,getAlpha:u,hexString:l,rgbString:c,rgbaString:h,percentString:f,percentaString:v,hslString:d,hslaString:p,hwbString:y,keyword:g};var k={};for(var w in x)k[x[w]]=w},{"color-name":7}],7:[function(e,t,n){t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],
orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],8:[function(t,n,r){(function(){function t(e){function t(t,n,r,i,a,o){for(;a>=0&&o>a;a+=e){var s=i?i[a]:a;r=n(r,t[s],s,t)}return r}return function(n,r,i,a){r=w(r,a,4);var o=!A(n)&&k.keys(n),s=(o||n).length,u=e>0?0:s-1;return arguments.length<3&&(i=n[o?o[u]:u],u+=e),t(n,r,i,o,u,s)}}function i(e){return function(t,n,r){n=_(n,r);for(var i=O(t),a=e>0?0:i-1;a>=0&&i>a;a+=e)if(n(t[a],a,t))return a;return-1}}function a(e,t,n){return function(r,i,a){var o=0,s=O(r);if("number"==typeof a)e>0?o=a>=0?a:Math.max(a+s,o):s=a>=0?Math.min(a+1,s):a+s+1;else if(n&&a&&s)return a=n(r,i),r[a]===i?a:-1;if(i!==i)return a=t(v.call(r,o,s),k.isNaN),a>=0?a+o:-1;for(a=e>0?o:s-1;a>=0&&s>a;a+=e)if(r[a]===i)return a;return-1}}function o(e,t){var n=P.length,r=e.constructor,i=k.isFunction(r)&&r.prototype||c,a="constructor";for(k.has(e,a)&&!k.contains(t,a)&&t.push(a);n--;)a=P[n],a in e&&e[a]!==i[a]&&!k.contains(t,a)&&t.push(a)}var s=this,u=s._,l=Array.prototype,c=Object.prototype,h=Function.prototype,f=l.push,v=l.slice,d=c.toString,p=c.hasOwnProperty,y=Array.isArray,g=Object.keys,m=h.bind,b=Object.create,x=function(){},k=function(e){return e instanceof k?e:this instanceof k?void(this._wrapped=e):new k(e)};"undefined"!=typeof r?("undefined"!=typeof n&&n.exports&&(r=n.exports=k),r._=k):s._=k,k.VERSION="1.8.3";var w=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)}}return function(){return e.apply(t,arguments)}},_=function(e,t,n){return null==e?k.identity:k.isFunction(e)?w(e,t,n):k.isObject(e)?k.matcher(e):k.property(e)};k.iteratee=function(e,t){return _(e,t,1/0)};var M=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var a=arguments[i],o=e(a),s=o.length,u=0;s>u;u++){var l=o[u];t&&void 0!==n[l]||(n[l]=a[l])}return n}},S=function(e){if(!k.isObject(e))return{};if(b)return b(e);x.prototype=e;var t=new x;return x.prototype=null,t},j=function(e){return function(t){return null==t?void 0:t[e]}},z=Math.pow(2,53)-1,O=j("length"),A=function(e){var t=O(e);return"number"==typeof t&&t>=0&&z>=t};k.each=k.forEach=function(e,t,n){t=w(t,n);var r,i;if(A(e))for(r=0,i=e.length;i>r;r++)t(e[r],r,e);else{var a=k.keys(e);for(r=0,i=a.length;i>r;r++)t(e[a[r]],a[r],e)}return e},k.map=k.collect=function(e,t,n){t=_(t,n);for(var r=!A(e)&&k.keys(e),i=(r||e).length,a=Array(i),o=0;i>o;o++){var s=r?r[o]:o;a[o]=t(e[s],s,e)}return a},k.reduce=k.foldl=k.inject=t(1),k.reduceRight=k.foldr=t(-1),k.find=k.detect=function(e,t,n){var r;return r=A(e)?k.findIndex(e,t,n):k.findKey(e,t,n),void 0!==r&&-1!==r?e[r]:void 0},k.filter=k.select=function(e,t,n){var r=[];return t=_(t,n),k.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},k.reject=function(e,t,n){return k.filter(e,k.negate(_(t)),n)},k.every=k.all=function(e,t,n){t=_(t,n);for(var r=!A(e)&&k.keys(e),i=(r||e).length,a=0;i>a;a++){var o=r?r[a]:a;if(!t(e[o],o,e))return!1}return!0},k.some=k.any=function(e,t,n){t=_(t,n);for(var r=!A(e)&&k.keys(e),i=(r||e).length,a=0;i>a;a++){var o=r?r[a]:a;if(t(e[o],o,e))return!0}return!1},k.contains=k.includes=k.include=function(e,t,n,r){return A(e)||(e=k.values(e)),("number"!=typeof n||r)&&(n=0),k.indexOf(e,t,n)>=0},k.invoke=function(e,t){var n=v.call(arguments,2),r=k.isFunction(t);return k.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},k.pluck=function(e,t){return k.map(e,k.property(t))},k.where=function(e,t){return k.filter(e,k.matcher(t))},k.findWhere=function(e,t){return k.find(e,k.matcher(t))},k.max=function(e,t,n){var r,i,a=-(1/0),o=-(1/0);if(null==t&&null!=e){e=A(e)?e:k.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],r>a&&(a=r)}else t=_(t,n),k.each(e,function(e,n,r){i=t(e,n,r),(i>o||i===-(1/0)&&a===-(1/0))&&(a=e,o=i)});return a},k.min=function(e,t,n){var r,i,a=1/0,o=1/0;if(null==t&&null!=e){e=A(e)?e:k.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],a>r&&(a=r)}else t=_(t,n),k.each(e,function(e,n,r){i=t(e,n,r),(o>i||i===1/0&&a===1/0)&&(a=e,o=i)});return a},k.shuffle=function(e){for(var t,n=A(e)?e:k.values(e),r=n.length,i=Array(r),a=0;r>a;a++)t=k.random(0,a),t!==a&&(i[a]=i[t]),i[t]=n[a];return i},k.sample=function(e,t,n){return null==t||n?(A(e)||(e=k.values(e)),e[k.random(e.length-1)]):k.shuffle(e).slice(0,Math.max(0,t))},k.sortBy=function(e,t,n){return t=_(t,n),k.pluck(k.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,r){var i={};return n=_(n,r),k.each(t,function(r,a){var o=n(r,a,t);e(i,r,o)}),i}};k.groupBy=T(function(e,t,n){k.has(e,n)?e[n].push(t):e[n]=[t]}),k.indexBy=T(function(e,t,n){e[n]=t}),k.countBy=T(function(e,t,n){k.has(e,n)?e[n]++:e[n]=1}),k.toArray=function(e){return e?k.isArray(e)?v.call(e):A(e)?k.map(e,k.identity):k.values(e):[]},k.size=function(e){return null==e?0:A(e)?e.length:k.keys(e).length},k.partition=function(e,t,n){t=_(t,n);var r=[],i=[];return k.each(e,function(e,n,a){(t(e,n,a)?r:i).push(e)}),[r,i]},k.first=k.head=k.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:k.initial(e,e.length-t)},k.initial=function(e,t,n){return v.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},k.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:k.rest(e,Math.max(0,e.length-t))},k.rest=k.tail=k.drop=function(e,t,n){return v.call(e,null==t||n?1:t)},k.compact=function(e){return k.filter(e,k.identity)};var E=function(e,t,n,r){for(var i=[],a=0,o=r||0,s=O(e);s>o;o++){var u=e[o];if(A(u)&&(k.isArray(u)||k.isArguments(u))){t||(u=E(u,t,n));var l=0,c=u.length;for(i.length+=c;c>l;)i[a++]=u[l++]}else n||(i[a++]=u)}return i};k.flatten=function(e,t){return E(e,t,!1)},k.without=function(e){return k.difference(e,v.call(arguments,1))},k.uniq=k.unique=function(e,t,n,r){k.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=_(n,r));for(var i=[],a=[],o=0,s=O(e);s>o;o++){var u=e[o],l=n?n(u,o,e):u;t?(o&&a===l||i.push(u),a=l):n?k.contains(a,l)||(a.push(l),i.push(u)):k.contains(i,u)||i.push(u)}return i},k.union=function(){return k.uniq(E(arguments,!0,!0))},k.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=O(e);i>r;r++){var a=e[r];if(!k.contains(t,a)){for(var o=1;n>o&&k.contains(arguments[o],a);o++);o===n&&t.push(a)}}return t},k.difference=function(e){var t=E(arguments,!0,!0,1);return k.filter(e,function(e){return!k.contains(t,e)})},k.zip=function(){return k.unzip(arguments)},k.unzip=function(e){for(var t=e&&k.max(e,O).length||0,n=Array(t),r=0;t>r;r++)n[r]=k.pluck(e,r);return n},k.object=function(e,t){for(var n={},r=0,i=O(e);i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},k.findIndex=i(1),k.findLastIndex=i(-1),k.sortedIndex=function(e,t,n,r){n=_(n,r,1);for(var i=n(t),a=0,o=O(e);o>a;){var s=Math.floor((a+o)/2);n(e[s])<i?a=s+1:o=s}return a},k.indexOf=a(1,k.findIndex,k.sortedIndex),k.lastIndexOf=a(-1,k.findLastIndex),k.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),a=0;r>a;a++,e+=n)i[a]=e;return i};var V=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var a=S(e.prototype),o=e.apply(a,i);return k.isObject(o)?o:a};k.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,v.call(arguments,1));if(!k.isFunction(e))throw new TypeError("Bind must be called on a function");var n=v.call(arguments,2),r=function(){return V(e,r,t,this,n.concat(v.call(arguments)))};return r},k.partial=function(e){var t=v.call(arguments,1),n=function(){for(var r=0,i=t.length,a=Array(i),o=0;i>o;o++)a[o]=t[o]===k?arguments[r++]:t[o];for(;r<arguments.length;)a.push(arguments[r++]);return V(e,n,this,this,a)};return n},k.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=k.bind(e[n],e);return e},k.memoize=function(e,t){var n=function(r){var i=n.cache,a=""+(t?t.apply(this,arguments):r);return k.has(i,a)||(i[a]=e.apply(this,arguments)),i[a]};return n.cache={},n},k.delay=function(e,t){var n=v.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},k.defer=k.partial(k.delay,k,1),k.throttle=function(e,t,n){var r,i,a,o=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:k.now(),o=null,a=e.apply(r,i),o||(r=i=null)};return function(){var l=k.now();s||n.leading!==!1||(s=l);var c=t-(l-s);return r=this,i=arguments,0>=c||c>t?(o&&(clearTimeout(o),o=null),s=l,a=e.apply(r,i),o||(r=i=null)):o||n.trailing===!1||(o=setTimeout(u,c)),a}},k.debounce=function(e,t,n){var r,i,a,o,s,u=function(){var l=k.now()-o;t>l&&l>=0?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(a,i),r||(a=i=null)))};return function(){a=this,i=arguments,o=k.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(a,i),a=i=null),s}},k.wrap=function(e,t){return k.partial(t,e)},k.negate=function(e){return function(){return!e.apply(this,arguments)}},k.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},k.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},k.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},k.once=k.partial(k.before,2);var C=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];k.keys=function(e){if(!k.isObject(e))return[];if(g)return g(e);var t=[];for(var n in e)k.has(e,n)&&t.push(n);return C&&o(e,t),t},k.allKeys=function(e){if(!k.isObject(e))return[];var t=[];for(var n in e)t.push(n);return C&&o(e,t),t},k.values=function(e){for(var t=k.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},k.mapObject=function(e,t,n){t=_(t,n);for(var r,i=k.keys(e),a=i.length,o={},s=0;a>s;s++)r=i[s],o[r]=t(e[r],r,e);return o},k.pairs=function(e){for(var t=k.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},k.invert=function(e){for(var t={},n=k.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},k.functions=k.methods=function(e){var t=[];for(var n in e)k.isFunction(e[n])&&t.push(n);return t.sort()},k.extend=M(k.allKeys),k.extendOwn=k.assign=M(k.keys),k.findKey=function(e,t,n){t=_(t,n);for(var r,i=k.keys(e),a=0,o=i.length;o>a;a++)if(r=i[a],t(e[r],r,e))return r},k.pick=function(e,t,n){var r,i,a={},o=e;if(null==o)return a;k.isFunction(t)?(i=k.allKeys(o),r=w(t,n)):(i=E(arguments,!1,!1,1),r=function(e,t,n){return t in n},o=Object(o));for(var s=0,u=i.length;u>s;s++){var l=i[s],c=o[l];r(c,l,o)&&(a[l]=c)}return a},k.omit=function(e,t,n){if(k.isFunction(t))t=k.negate(t);else{var r=k.map(E(arguments,!1,!1,1),String);t=function(e,t){return!k.contains(r,t)}}return k.pick(e,t,n)},k.defaults=M(k.allKeys,!0),k.create=function(e,t){var n=S(e);return t&&k.extendOwn(n,t),n},k.clone=function(e){return k.isObject(e)?k.isArray(e)?e.slice():k.extend({},e):e},k.tap=function(e,t){return t(e),e},k.isMatch=function(e,t){var n=k.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),a=0;r>a;a++){var o=n[a];if(t[o]!==i[o]||!(o in i))return!1}return!0};var N=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof k&&(e=e._wrapped),t instanceof k&&(t=t._wrapped);var i=d.call(e);if(i!==d.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var a="[object Array]"===i;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,s=t.constructor;if(o!==s&&!(k.isFunction(o)&&o instanceof o&&k.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),a){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!N(e[u],t[u],n,r))return!1}else{var l,c=k.keys(e);if(u=c.length,k.keys(t).length!==u)return!1;for(;u--;)if(l=c[u],!k.has(t,l)||!N(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0};k.isEqual=function(e,t){return N(e,t)},k.isEmpty=function(e){return null==e?!0:A(e)&&(k.isArray(e)||k.isString(e)||k.isArguments(e))?0===e.length:0===k.keys(e).length},k.isElement=function(e){return!(!e||1!==e.nodeType)},k.isArray=y||function(e){return"[object Array]"===d.call(e)},k.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},k.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){k["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),k.isArguments(arguments)||(k.isArguments=function(e){return k.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(k.isFunction=function(e){return"function"==typeof e||!1}),k.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},k.isNaN=function(e){return k.isNumber(e)&&e!==+e},k.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===d.call(e)},k.isNull=function(e){return null===e},k.isUndefined=function(e){return void 0===e},k.has=function(e,t){return null!=e&&p.call(e,t)},k.noConflict=function(){return s._=u,this},k.identity=function(e){return e},k.constant=function(e){return function(){return e}},k.noop=function(){},k.property=j,k.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},k.matcher=k.matches=function(e){return e=k.extendOwn({},e),function(t){return k.isMatch(t,e)}},k.times=function(e,t,n){var r=Array(Math.max(0,e));t=w(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},k.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},k.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},R=k.invert(L),q=function(e){var t=function(t){return e[t]},n="(?:"+k.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};k.escape=q(L),k.unescape=q(R),k.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),k.isFunction(r)?r.call(e):r};var G=0;k.uniqueId=function(e){var t=++G+"";return e?e+t:t},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\u2028|\u2029/g,D=function(e){return"\\"+U[e]};k.template=function(e,t,n){!t&&n&&(t=n),t=k.defaults({},t,k.templateSettings);var r=RegExp([(t.escape||F).source,(t.interpolate||F).source,(t.evaluate||F).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(r,function(t,n,r,o,s){return a+=e.slice(i,s).replace(I,D),i=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(t.variable||"obj","_",a)}catch(s){throw s.source=a,s}var u=function(e){return o.call(this,e,k)},l=t.variable||"obj";return u.source="function("+l+"){\n"+a+"}",u},k.chain=function(e){var t=k(e);return t._chain=!0,t};var H=function(e,t){return e._chain?k(t).chain():t};k.mixin=function(e){k.each(k.functions(e),function(t){var n=k[t]=e[t];k.prototype[t]=function(){var e=[this._wrapped];return f.apply(e,arguments),H(this,n.apply(k,e))}})},k.mixin(k),k.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=l[e];k.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],H(this,n)}}),k.each(["concat","join","slice"],function(e){var t=l[e];k.prototype[e]=function(){return H(this,t.apply(this._wrapped,arguments))}}),k.prototype.value=function(){return this._wrapped},k.prototype.valueOf=k.prototype.toJSON=k.prototype.value,k.prototype.toString=function(){return""+this._wrapped},"function"==typeof e&&e.amd&&e("underscore",[],function(){return k})}).call(this)},{}],9:[function(e,t,n){var r=e("./vdom/create-element.js");t.exports=r},{"./vdom/create-element.js":21}],10:[function(e,t,n){var r=e("./vtree/diff.js");t.exports=r},{"./vtree/diff.js":44}],11:[function(e,t,n){var r=e("./virtual-hyperscript/index.js");t.exports=r},{"./virtual-hyperscript/index.js":29}],12:[function(e,t,n){t.exports=function(e){var t,n=String.prototype.split,r=/()??/.exec("")[1]===e;return t=function(t,i,a){if("[object RegExp]"!==Object.prototype.toString.call(i))return n.call(t,i,a);var o,s,u,l,c=[],h=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),f=0,i=new RegExp(i.source,h+"g");for(t+="",r||(o=new RegExp("^"+i.source+"$(?!\\s)",h)),a=a===e?-1>>>0:a>>>0;(s=i.exec(t))&&(u=s.index+s[0].length,!(u>f&&(c.push(t.slice(f,s.index)),!r&&s.length>1&&s[0].replace(o,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(s[t]=e)}),s.length>1&&s.index<t.length&&Array.prototype.push.apply(c,s.slice(1)),l=s[0].length,f=u,c.length>=a)));)i.lastIndex===s.index&&i.lastIndex++;return f===t.length?(l||!i.test(""))&&c.push(""):c.push(t.slice(f)),c.length>a?c.slice(0,a):c}}()},{}],13:[function(e,t,n){"use strict";function r(e){var t=e[o];return t||(t=e[o]={}),t}var i=e("individual/one-version"),a="7";i("ev-store",a);var o="__EV_STORE_KEY@"+a;t.exports=r},{"individual/one-version":15}],14:[function(e,t,n){(function(e){"use strict";function n(e,t){return e in r?r[e]:(r[e]=t,t)}var r="undefined"!=typeof window?window:"undefined"!=typeof e?e:{};t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r="__INDIVIDUAL_ONE_VERSION_"+e,a=r+"_ENFORCE_SINGLETON",o=i(a,t);if(o!==t)throw new Error("Can only have one copy of "+e+".\nYou already have version "+o+" installed.\nThis means you cannot install version "+t);return i(r,n)}var i=e("./index.js");t.exports=r},{"./index.js":14}],16:[function(e,t,n){(function(n){var r="undefined"!=typeof n?n:"undefined"!=typeof window?window:{},i=e("min-document");if("undefined"!=typeof document)t.exports=document;else{var a=r["__GLOBAL_DOCUMENT_CACHE@4"];a||(a=r["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":3}],17:[function(e,t,n){"use strict";t.exports=function(e){return"object"==typeof e&&null!==e}},{}],18:[function(e,t,n){function r(e){return"[object Array]"===a.call(e)}var i=Array.isArray,a=Object.prototype.toString;t.exports=i||r},{}],19:[function(e,t,n){var r=e("./vdom/patch.js");t.exports=r},{"./vdom/patch.js":24}],20:[function(e,t,n){function r(e,t,n){for(var r in t){var o=t[r];void 0===o?i(e,r,o,n):u(o)?(i(e,r,o,n),o.hook&&o.hook(e,r,n?n[r]:void 0)):s(o)?a(e,t,n,r,o):e[r]=o}}function i(e,t,n,r){if(r){var i=r[t];if(u(i))i.unhook&&i.unhook(e,t,n);else if("attributes"===t)for(var a in i)e.removeAttribute(a);else if("style"===t)for(var o in i)e.style[o]="";else"string"==typeof i?e[t]="":e[t]=null}}function a(e,t,n,r,i){var a=n?n[r]:void 0;if("attributes"!==r){if(a&&s(a)&&o(a)!==o(i))return void(e[r]=i);s(e[r])||(e[r]={});var u="style"===r?"":void 0;for(var l in i){var c=i[l];e[r][l]=void 0===c?u:c}}else for(var h in i){var f=i[h];void 0===f?e.removeAttribute(h):e.setAttribute(h,f)}}function o(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var s=e("is-object"),u=e("../vnode/is-vhook.js");t.exports=r},{"../vnode/is-vhook.js":35,"is-object":17}],21:[function(e,t,n){function r(e,t){var n=t?t.document||i:i,c=t?t.warn:null;if(e=l(e).a,u(e))return e.init();if(s(e))return n.createTextNode(e.text);if(!o(e))return c&&c("Item is not a valid virtual dom node",e),null;var h=null===e.namespace?n.createElement(e.tagName):n.createElementNS(e.namespace,e.tagName),f=e.properties;a(h,f);for(var v=e.children,d=0;d<v.length;d++){var p=r(v[d],t);p&&h.appendChild(p)}return h}var i=e("global/document"),a=e("./apply-properties"),o=e("../vnode/is-vnode.js"),s=e("../vnode/is-vtext.js"),u=e("../vnode/is-widget.js"),l=e("../vnode/handle-thunk.js");t.exports=r},{"../vnode/handle-thunk.js":33,"../vnode/is-vnode.js":36,"../vnode/is-vtext.js":37,"../vnode/is-widget.js":38,"./apply-properties":20,"global/document":16}],22:[function(e,t,n){function r(e,t,n,r){return n&&0!==n.length?(n.sort(o),i(e,t,n,r,0)):{}}function i(e,t,n,r,o){if(r=r||{},e){a(n,o,o)&&(r[o]=e);var u=t.children;if(u)for(var l=e.childNodes,c=0;c<t.children.length;c++){o+=1;var h=u[c]||s,f=o+(h.count||0);a(n,o,f)&&i(l[c],h,n,r,o),o=f}}return r}function a(e,t,n){if(0===e.length)return!1;for(var r,i,a=0,o=e.length-1;o>=a;){if(r=(o+a)/2>>0,i=e[r],a===o)return i>=t&&n>=i;if(t>i)a=r+1;else{if(!(i>n))return!0;o=r-1}}return!1}function o(e,t){return e>t?1:-1}var s={};t.exports=r},{}],23:[function(e,t,n){function r(e,t,n){var r=e.type,l=e.vNode,v=e.patch;switch(r){case d.REMOVE:return i(t,l);case d.INSERT:return a(t,v,n);case d.VTEXT:return o(t,l,v,n);case d.WIDGET:return s(t,l,v,n);case d.VNODE:return u(t,l,v,n);case d.ORDER:return c(t,v),t;case d.PROPS:return f(t,v,l.properties),t;case d.THUNK:return h(t,n.patch(t,v,n));default:return t}}function i(e,t){var n=e.parentNode;return n&&n.removeChild(e),l(e,t),null}function a(e,t,n){var r=n.render(t,n);return e&&e.appendChild(r),e}function o(e,t,n,r){var i;if(3===e.nodeType)e.replaceData(0,e.length,n.text),i=e;else{var a=e.parentNode;i=r.render(n,r),a&&i!==e&&a.replaceChild(i,e)}return i}function s(e,t,n,r){var i,a=p(t,n);i=a?n.update(t,e)||e:r.render(n,r);var o=e.parentNode;return o&&i!==e&&o.replaceChild(i,e),a||l(e,t),i}function u(e,t,n,r){var i=e.parentNode,a=r.render(n,r);return i&&a!==e&&i.replaceChild(a,e),a}function l(e,t){"function"==typeof t.destroy&&v(t)&&t.destroy(e)}function c(e,t){for(var n,r,i,a=e.childNodes,o={},s=0;s<t.removes.length;s++)r=t.removes[s],n=a[r.from],r.key&&(o[r.key]=n),e.removeChild(n);for(var u=a.length,l=0;l<t.inserts.length;l++)i=t.inserts[l],n=o[i.key],e.insertBefore(n,i.to>=u++?null:a[i.to])}function h(e,t){return e&&t&&e!==t&&e.parentNode&&e.parentNode.replaceChild(t,e),t}var f=e("./apply-properties"),v=e("../vnode/is-widget.js"),d=e("../vnode/vpatch.js"),p=e("./update-widget");t.exports=r},{"../vnode/is-widget.js":38,"../vnode/vpatch.js":41,"./apply-properties":20,"./update-widget":25}],24:[function(e,t,n){function r(e,t,n){return n=n||{},n.patch=n.patch&&n.patch!==r?n.patch:i,n.render=n.render||l,n.patch(e,t,n)}function i(e,t,n){var r=o(t);if(0===r.length)return e;var i=c(e,t.a,r),u=e.ownerDocument;n.document||u===s||(n.document=u);for(var l=0;l<r.length;l++){var h=r[l];e=a(e,i[h],t[h],n)}return e}function a(e,t,n,r){if(!t)return e;var i;if(u(n))for(var a=0;a<n.length;a++)i=h(n[a],t,r),t===e&&(e=i);else i=h(n,t,r),t===e&&(e=i);return e}function o(e){var t=[];for(var n in e)"a"!==n&&t.push(Number(n));return t}var s=e("global/document"),u=e("x-is-array"),l=e("./create-element"),c=e("./dom-index"),h=e("./patch-op");t.exports=r},{"./create-element":21,"./dom-index":22,"./patch-op":23,"global/document":16,"x-is-array":18}],25:[function(e,t,n){function r(e,t){return i(e)&&i(t)?"name"in e&&"name"in t?e.id===t.id:e.init===t.init:!1}var i=e("../vnode/is-widget.js");t.exports=r},{"../vnode/is-widget.js":38}],26:[function(e,t,n){"use strict";function r(e,t){return this instanceof r?(this.namespace=e,void(this.value=t)):new r(e,t)}t.exports=r,r.prototype.hook=function(e,t,n){n&&"AttributeHook"===n.type&&n.value===this.value&&n.namespace===this.namespace||e.setAttributeNS(this.namespace,t,this.value)},r.prototype.unhook=function(e,t,n){if(!n||"AttributeHook"!==n.type||n.namespace!==this.namespace){var r=t.indexOf(":"),i=r>-1?t.substr(r+1):t;e.removeAttributeNS(this.namespace,i)}},r.prototype.type="AttributeHook"},{}],27:[function(e,t,n){"use strict";function r(e){return this instanceof r?void(this.value=e):new r(e)}var i=e("ev-store");t.exports=r,r.prototype.hook=function(e,t){var n=i(e),r=t.substr(3);n[r]=this.value},r.prototype.unhook=function(e,t){var n=i(e),r=t.substr(3);n[r]=void 0}},{"ev-store":13}],28:[function(e,t,n){"use strict";function r(e){return this instanceof r?void(this.value=e):new r(e)}t.exports=r,r.prototype.hook=function(e,t){e[t]!==this.value&&(e[t]=this.value)}},{}],29:[function(e,t,n){"use strict";function r(e,t,n){var r,o,u,l,c=[];return!n&&s(t)&&(n=t,o={}),o=o||t||{},r=m(e,o),o.hasOwnProperty("key")&&(u=o.key,o.key=void 0),o.hasOwnProperty("namespace")&&(l=o.namespace,o.namespace=void 0),"INPUT"!==r||l||!o.hasOwnProperty("value")||void 0===o.value||y(o.value)||(o.value=b(o.value)),a(o),void 0!==n&&null!==n&&i(n,c,r,o),new h(r,o,c,u,l)}function i(e,t,n,r){if("string"==typeof e)t.push(new f(e));else if("number"==typeof e)t.push(new f(String(e)));else if(o(e))t.push(e);else{if(!c(e)){if(null===e||void 0===e)return;throw u({foreignObject:e,parentVnode:{tagName:n,properties:r}})}for(var a=0;a<e.length;a++)i(e[a],t,n,r)}}function a(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if(y(n))continue;"ev-"===t.substr(0,3)&&(e[t]=x(n))}}function o(e){return v(e)||d(e)||p(e)||g(e)}function s(e){return"string"==typeof e||c(e)||o(e)}function u(e){var t=new Error;return t.type="virtual-hyperscript.unexpected.virtual-element",t.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+l(e.foreignObject)+".\nThe parent vnode is:\n"+l(e.parentVnode),t.foreignObject=e.foreignObject,t.parentVnode=e.parentVnode,t}function l(e){try{return JSON.stringify(e,null,"    ")}catch(t){return String(e)}}var c=e("x-is-array"),h=e("../vnode/vnode.js"),f=e("../vnode/vtext.js"),v=e("../vnode/is-vnode"),d=e("../vnode/is-vtext"),p=e("../vnode/is-widget"),y=e("../vnode/is-vhook"),g=e("../vnode/is-thunk"),m=e("./parse-tag.js"),b=e("./hooks/soft-set-hook.js"),x=e("./hooks/ev-hook.js");t.exports=r},{"../vnode/is-thunk":34,"../vnode/is-vhook":35,"../vnode/is-vnode":36,"../vnode/is-vtext":37,"../vnode/is-widget":38,"../vnode/vnode.js":40,"../vnode/vtext.js":42,"./hooks/ev-hook.js":27,"./hooks/soft-set-hook.js":28,"./parse-tag.js":30,"x-is-array":18}],30:[function(e,t,n){"use strict";function r(e,t){if(!e)return"DIV";var n=!t.hasOwnProperty("id"),r=i(e,a),s=null;o.test(r[1])&&(s="DIV");var u,l,c,h;for(h=0;h<r.length;h++)l=r[h],l&&(c=l.charAt(0),s?"."===c?(u=u||[],u.push(l.substring(1,l.length))):"#"===c&&n&&(t.id=l.substring(1,l.length)):s=l);return u&&(t.className&&u.push(t.className),t.className=u.join(" ")),t.namespace?s:s.toUpperCase()}var i=e("browser-split"),a=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,o=/^\.|#/;t.exports=r},{"browser-split":12}],31:[function(e,t,n){"use strict";function r(e){return u.hasOwnProperty(e)?u[e]:void 0}var i=null,a="http://www.w3.org/2001/xml-events",o="http://www.w3.org/1999/xlink",s="http://www.w3.org/XML/1998/namespace",u={about:i,"accent-height":i,accumulate:i,additive:i,"alignment-baseline":i,alphabetic:i,amplitude:i,"arabic-form":i,ascent:i,attributeName:i,attributeType:i,azimuth:i,bandwidth:i,baseFrequency:i,baseProfile:i,"baseline-shift":i,bbox:i,begin:i,bias:i,by:i,calcMode:i,"cap-height":i,"class":i,clip:i,"clip-path":i,"clip-rule":i,clipPathUnits:i,color:i,"color-interpolation":i,"color-interpolation-filters":i,"color-profile":i,"color-rendering":i,content:i,contentScriptType:i,contentStyleType:i,cursor:i,cx:i,cy:i,d:i,datatype:i,defaultAction:i,descent:i,diffuseConstant:i,direction:i,display:i,divisor:i,"dominant-baseline":i,dur:i,dx:i,dy:i,edgeMode:i,editable:i,elevation:i,"enable-background":i,end:i,"ev:event":a,event:i,exponent:i,externalResourcesRequired:i,fill:i,"fill-opacity":i,"fill-rule":i,filter:i,filterRes:i,filterUnits:i,"flood-color":i,"flood-opacity":i,focusHighlight:i,focusable:i,"font-family":i,"font-size":i,"font-size-adjust":i,"font-stretch":i,"font-style":i,"font-variant":i,"font-weight":i,format:i,from:i,fx:i,fy:i,g1:i,g2:i,"glyph-name":i,"glyph-orientation-horizontal":i,"glyph-orientation-vertical":i,glyphRef:i,gradientTransform:i,gradientUnits:i,handler:i,hanging:i,height:i,"horiz-adv-x":i,"horiz-origin-x":i,"horiz-origin-y":i,id:i,ideographic:i,"image-rendering":i,"in":i,in2:i,initialVisibility:i,intercept:i,k:i,k1:i,k2:i,k3:i,k4:i,kernelMatrix:i,kernelUnitLength:i,kerning:i,keyPoints:i,keySplines:i,keyTimes:i,lang:i,lengthAdjust:i,"letter-spacing":i,"lighting-color":i,limitingConeAngle:i,local:i,"marker-end":i,"marker-mid":i,"marker-start":i,markerHeight:i,markerUnits:i,markerWidth:i,mask:i,maskContentUnits:i,maskUnits:i,mathematical:i,max:i,media:i,mediaCharacterEncoding:i,mediaContentEncodings:i,mediaSize:i,mediaTime:i,method:i,min:i,mode:i,name:i,"nav-down":i,"nav-down-left":i,"nav-down-right":i,"nav-left":i,"nav-next":i,"nav-prev":i,"nav-right":i,"nav-up":i,"nav-up-left":i,"nav-up-right":i,numOctaves:i,observer:i,offset:i,opacity:i,operator:i,order:i,orient:i,orientation:i,origin:i,overflow:i,overlay:i,"overline-position":i,"overline-thickness":i,"panose-1":i,path:i,pathLength:i,patternContentUnits:i,patternTransform:i,patternUnits:i,phase:i,playbackOrder:i,"pointer-events":i,points:i,pointsAtX:i,pointsAtY:i,pointsAtZ:i,preserveAlpha:i,preserveAspectRatio:i,primitiveUnits:i,propagate:i,property:i,r:i,radius:i,refX:i,refY:i,rel:i,"rendering-intent":i,repeatCount:i,repeatDur:i,requiredExtensions:i,requiredFeatures:i,requiredFonts:i,requiredFormats:i,resource:i,restart:i,result:i,rev:i,role:i,rotate:i,rx:i,ry:i,scale:i,seed:i,"shape-rendering":i,slope:i,snapshotTime:i,spacing:i,specularConstant:i,specularExponent:i,spreadMethod:i,startOffset:i,stdDeviation:i,stemh:i,stemv:i,stitchTiles:i,"stop-color":i,"stop-opacity":i,"strikethrough-position":i,"strikethrough-thickness":i,string:i,stroke:i,"stroke-dasharray":i,"stroke-dashoffset":i,"stroke-linecap":i,"stroke-linejoin":i,"stroke-miterlimit":i,"stroke-opacity":i,"stroke-width":i,surfaceScale:i,syncBehavior:i,syncBehaviorDefault:i,syncMaster:i,syncTolerance:i,syncToleranceDefault:i,systemLanguage:i,tableValues:i,target:i,targetX:i,targetY:i,"text-anchor":i,"text-decoration":i,"text-rendering":i,textLength:i,timelineBegin:i,title:i,to:i,transform:i,transformBehavior:i,type:i,"typeof":i,u1:i,u2:i,"underline-position":i,"underline-thickness":i,unicode:i,"unicode-bidi":i,"unicode-range":i,"units-per-em":i,"v-alphabetic":i,"v-hanging":i,"v-ideographic":i,"v-mathematical":i,values:i,version:i,"vert-adv-y":i,"vert-origin-x":i,"vert-origin-y":i,viewBox:i,viewTarget:i,visibility:i,width:i,widths:i,"word-spacing":i,"writing-mode":i,x:i,"x-height":i,x1:i,x2:i,xChannelSelector:i,"xlink:actuate":o,"xlink:arcrole":o,"xlink:href":o,"xlink:role":o,"xlink:show":o,"xlink:title":o,"xlink:type":o,"xml:base":s,"xml:id":s,"xml:lang":s,"xml:space":s,y:i,y1:i,y2:i,yChannelSelector:i,z:i,zoomAndPan:i};t.exports=r},{}],32:[function(e,t,n){"use strict";function r(e,t,n){!n&&i(t)&&(n=t,t={}),t=t||{},t.namespace=l;
var r=t.attributes||(t.attributes={});for(var a in t)if(t.hasOwnProperty(a)){var c=s(a);if(void 0!==c){var h=t[a];("string"==typeof h||"number"==typeof h||"boolean"==typeof h)&&(null===c?(r[a]=h,t[a]=void 0):t[a]=u(c,h))}}return o(e,t,n)}function i(e){return"string"==typeof e||a(e)}var a=e("x-is-array"),o=e("./index.js"),s=e("./svg-attribute-namespace"),u=e("./hooks/attribute-hook"),l="http://www.w3.org/2000/svg";t.exports=r},{"./hooks/attribute-hook":26,"./index.js":29,"./svg-attribute-namespace":31,"x-is-array":18}],33:[function(e,t,n){function r(e,t){var n=e,r=t;return u(t)&&(r=i(t,e)),u(e)&&(n=i(e,null)),{a:n,b:r}}function i(e,t){var n=e.vnode;if(n||(n=e.vnode=e.render(t)),!(a(n)||o(n)||s(n)))throw new Error("thunk did not return a valid node");return n}var a=e("./is-vnode"),o=e("./is-vtext"),s=e("./is-widget"),u=e("./is-thunk");t.exports=r},{"./is-thunk":34,"./is-vnode":36,"./is-vtext":37,"./is-widget":38}],34:[function(e,t,n){function r(e){return e&&"Thunk"===e.type}t.exports=r},{}],35:[function(e,t,n){function r(e){return e&&("function"==typeof e.hook&&!e.hasOwnProperty("hook")||"function"==typeof e.unhook&&!e.hasOwnProperty("unhook"))}t.exports=r},{}],36:[function(e,t,n){function r(e){return e&&"VirtualNode"===e.type&&e.version===i}var i=e("./version");t.exports=r},{"./version":39}],37:[function(e,t,n){function r(e){return e&&"VirtualText"===e.type&&e.version===i}var i=e("./version");t.exports=r},{"./version":39}],38:[function(e,t,n){function r(e){return e&&"Widget"===e.type}t.exports=r},{}],39:[function(e,t,n){t.exports="2"},{}],40:[function(e,t,n){function r(e,t,n,r,i){this.tagName=e,this.properties=t||l,this.children=n||c,this.key=null!=r?String(r):void 0,this.namespace="string"==typeof i?i:null;var h,f=n&&n.length||0,v=0,d=!1,p=!1,y=!1;for(var g in t)if(t.hasOwnProperty(g)){var m=t[g];u(m)&&m.unhook&&(h||(h={}),h[g]=m)}for(var b=0;f>b;b++){var x=n[b];a(x)?(v+=x.count||0,!d&&x.hasWidgets&&(d=!0),!p&&x.hasThunks&&(p=!0),y||!x.hooks&&!x.descendantHooks||(y=!0)):!d&&o(x)?"function"==typeof x.destroy&&(d=!0):!p&&s(x)&&(p=!0)}this.count=f+v,this.hasWidgets=d,this.hasThunks=p,this.hooks=h,this.descendantHooks=y}var i=e("./version"),a=e("./is-vnode"),o=e("./is-widget"),s=e("./is-thunk"),u=e("./is-vhook");t.exports=r;var l={},c=[];r.prototype.version=i,r.prototype.type="VirtualNode"},{"./is-thunk":34,"./is-vhook":35,"./is-vnode":36,"./is-widget":38,"./version":39}],41:[function(e,t,n){function r(e,t,n){this.type=Number(e),this.vNode=t,this.patch=n}var i=e("./version");r.NONE=0,r.VTEXT=1,r.VNODE=2,r.WIDGET=3,r.PROPS=4,r.ORDER=5,r.INSERT=6,r.REMOVE=7,r.THUNK=8,t.exports=r,r.prototype.version=i,r.prototype.type="VirtualPatch"},{"./version":39}],42:[function(e,t,n){function r(e){this.text=String(e)}var i=e("./version");t.exports=r,r.prototype.version=i,r.prototype.type="VirtualText"},{"./version":39}],43:[function(e,t,n){function r(e,t){var n;for(var s in e){s in t||(n=n||{},n[s]=void 0);var u=e[s],l=t[s];if(u!==l)if(a(u)&&a(l))if(i(l)!==i(u))n=n||{},n[s]=l;else if(o(l))n=n||{},n[s]=l;else{var c=r(u,l);c&&(n=n||{},n[s]=c)}else n=n||{},n[s]=l}for(var h in t)h in e||(n=n||{},n[h]=t[h]);return n}function i(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var a=e("is-object"),o=e("../vnode/is-vhook");t.exports=r},{"../vnode/is-vhook":35,"is-object":17}],44:[function(e,t,n){function r(e,t){var n={a:e};return i(e,t,n,0),n}function i(e,t,n,r){if(e!==t){var i=n[r],s=!1;if(k(e)||k(t))u(e,t,n,r);else if(null==t)x(e)||(o(e,n,r),i=n[r]),i=p(i,new g(g.REMOVE,e,t));else if(m(t))if(m(e))if(e.tagName===t.tagName&&e.namespace===t.namespace&&e.key===t.key){var l=_(e.properties,t.properties);l&&(i=p(i,new g(g.PROPS,e,l))),i=a(e,t,n,i,r)}else i=p(i,new g(g.VNODE,e,t)),s=!0;else i=p(i,new g(g.VNODE,e,t)),s=!0;else b(t)?b(e)?e.text!==t.text&&(i=p(i,new g(g.VTEXT,e,t))):(i=p(i,new g(g.VTEXT,e,t)),s=!0):x(t)&&(x(e)||(s=!0),i=p(i,new g(g.WIDGET,e,t)));i&&(n[r]=i),s&&o(e,n,r)}}function a(e,t,n,r,a){for(var o=e.children,s=f(o,t.children),u=s.children,l=o.length,c=u.length,h=l>c?l:c,v=0;h>v;v++){var d=o[v],y=u[v];a+=1,d?i(d,y,n,a):y&&(r=p(r,new g(g.INSERT,null,y))),m(d)&&d.count&&(a+=d.count)}return s.moves&&(r=p(r,new g(g.ORDER,e,s.moves))),r}function o(e,t,n){c(e,t,n),s(e,t,n)}function s(e,t,n){if(x(e))"function"==typeof e.destroy&&(t[n]=p(t[n],new g(g.REMOVE,e,null)));else if(m(e)&&(e.hasWidgets||e.hasThunks))for(var r=e.children,i=r.length,a=0;i>a;a++){var o=r[a];n+=1,s(o,t,n),m(o)&&o.count&&(n+=o.count)}else k(e)&&u(e,null,t,n)}function u(e,t,n,i){var a=w(e,t),o=r(a.a,a.b);l(o)&&(n[i]=new g(g.THUNK,null,o))}function l(e){for(var t in e)if("a"!==t)return!0;return!1}function c(e,t,n){if(m(e)){if(e.hooks&&(t[n]=p(t[n],new g(g.PROPS,e,h(e.hooks)))),e.descendantHooks||e.hasThunks)for(var r=e.children,i=r.length,a=0;i>a;a++){var o=r[a];n+=1,c(o,t,n),m(o)&&o.count&&(n+=o.count)}}else k(e)&&u(e,null,t,n)}function h(e){var t={};for(var n in e)t[n]=void 0;return t}function f(e,t){var n=d(t),r=n.keys,i=n.free;if(i.length===t.length)return{children:t,moves:null};var a=d(e),o=a.keys,s=a.free;if(s.length===e.length)return{children:t,moves:null};for(var u=[],l=0,c=i.length,h=0,f=0;f<e.length;f++){var p,y=e[f];y.key?r.hasOwnProperty(y.key)?(p=r[y.key],u.push(t[p])):(p=f-h++,u.push(null)):c>l?(p=i[l++],u.push(t[p])):(p=f-h++,u.push(null))}for(var g=l>=i.length?t.length:i[l],m=0;m<t.length;m++){var b=t[m];b.key?o.hasOwnProperty(b.key)||u.push(b):m>=g&&u.push(b)}for(var x,k=u.slice(),w=0,_=[],M=[],S=0;S<t.length;){var j=t[S];for(x=k[w];null===x&&k.length;)_.push(v(k,w,null)),x=k[w];x&&x.key===j.key?(w++,S++):j.key?(x&&x.key&&r[x.key]!==S+1?(_.push(v(k,w,x.key)),x=k[w],x&&x.key===j.key?w++:M.push({key:j.key,to:S})):M.push({key:j.key,to:S}),S++):x&&x.key&&_.push(v(k,w,x.key))}for(;w<k.length;)x=k[w],_.push(v(k,w,x&&x.key));return _.length!==h||M.length?{children:u,moves:{removes:_,inserts:M}}:{children:u,moves:null}}function v(e,t,n){return e.splice(t,1),{from:t,key:n}}function d(e){for(var t={},n=[],r=e.length,i=0;r>i;i++){var a=e[i];a.key?t[a.key]=i:n.push(i)}return{keys:t,free:n}}function p(e,t){return e?(y(e)?e.push(t):e=[e,t],e):t}var y=e("x-is-array"),g=e("../vnode/vpatch"),m=e("../vnode/is-vnode"),b=e("../vnode/is-vtext"),x=e("../vnode/is-widget"),k=e("../vnode/is-thunk"),w=e("../vnode/handle-thunk"),_=e("./diff-props");t.exports=r},{"../vnode/handle-thunk":33,"../vnode/is-thunk":34,"../vnode/is-vnode":36,"../vnode/is-vtext":37,"../vnode/is-widget":38,"../vnode/vpatch":41,"./diff-props":43,"x-is-array":18}],45:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("underscore"),s=r(o),u=e("bezier-js"),l=r(u),c=e("./vector"),h=r(c),f=function(){function e(){i(this,e)}return a(e,[{key:"add",value:function(e){var t=this.copy();return t.vec1&&(t.vec1=t.vec1.add(e)),t.vec2&&(t.vec2=t.vec2.add(e)),t.vec3&&(t.vec3=t.vec3.add(e)),t}},{key:"sub",value:function(e){var t=this.copy();return t.vec1&&(t.vec1=t.vec1.sub(e)),t.vec2&&(t.vec2=t.vec2.sub(e)),t.vec3&&(t.vec3=t.vec3.sub(e)),t}},{key:"copy",value:function(){var t=new e;return t.command=this.command,this.vec1&&(t.vec1=this.vec1.copy()),this.vec2&&(t.vec2=this.vec2.copy()),this.vec3&&(t.vec3=this.vec3.copy()),t}},{key:"setMove",value:function(e,t){return this.command="move",this.vec1=new h["default"](e,t),this}},{key:"setLine",value:function(e,t){return this.command="line",this.vec1=new h["default"](e,t),this}},{key:"setCurve",value:function(e,t,n,r,i,a){return s["default"].isUndefined(a)?(this.command="quad",this.vec1=new h["default"](e,t),this.vec2=new h["default"](n,r)):(this.command="cubic",this.vec1=new h["default"](e,t),this.vec2=new h["default"](n,r),this.vec3=new h["default"](i,a)),this}},{key:"setClose",value:function(){return this.command="close",this}},{key:"length",value:function(){if("move"==this.command)return 0;if("line"==this.command)return this.vec1.length();if("quad"==this.command)return new l["default"](0,0,this.vec1.x,this.vec1.y,this.vec2.x,this.vec2.y).length();if("cubic"==this.command)return new l["default"](0,0,this.vec1.x,this.vec1.y,this.vec2.x,this.vec2.y,this.vec3.x,this.vec3.y).length();throw new Error("Cannot compute length for this type of anchor")}},{key:"vectorAt",value:function(e){e>1&&(e=1),0>e&&(e=0);if("line"==this.command)return new h["default"](this.vec1.x,this.vec1.y).multiply(e);if("quad"==this.command)return new l["default"](0,0,this.vec1.x,this.vec1.y,this.vec2.x,this.vec2.y).get(e);if("cubic"==this.command)return new l["default"](0,0,this.vec1.x,this.vec1.y,this.vec2.x,this.vec2.y,this.vec3.x,this.vec3.y).get(e);throw new Error("Cannot compute vectorAt for this type of anchor")}}]),e}();n["default"]=f,t.exports=n["default"]},{"./vector":62,"bezier-js":2,underscore:8}],46:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("underscore"),s=r(o),u=e("color-convert"),l=r(u),c=e("color-string"),h=r(c),f=function(){function e(t,n,r,a,o){if(i(this,e),this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},t instanceof e)return t;if("hsv"==t)this.setValues("hsv",{h:n%360,s:r,v:a}),o&&this.setValues("alpha",o);else if(s["default"].isString(t)){var u=h["default"].getRgba(t);if(u)this.setValues("rgb",u);else if(u=h["default"].getHsla(t))this.setValues("hsl",u);else{if(!(u=h["default"].getHwb(t)))throw new Error('Unable to parse color from string "'+t+'"');this.setValues("hwb",u)}n&&this.setValues("alpha",n)}else s["default"].isUndefined(r)?(this.setValues("rgb",{r:t,g:t,b:t}),n&&this.setValues("alpha",n)):s["default"].isUndefined(t)||(this.setValues("rgb",{r:t,g:n,b:r}),a&&this.setValues("alpha",a))}return a(e,[{key:"rgb",value:function(e){return this.setSpace("rgb",arguments)}},{key:"hsl",value:function(e){return this.setSpace("hsl",arguments)}},{key:"hsv",value:function(e){return this.setSpace("hsv",arguments)}},{key:"hwb",value:function(e){return this.setSpace("hwb",arguments)}},{key:"cmyk",value:function(e){return this.setSpace("cmyk",arguments)}},{key:"rgbArray",value:function(){return this.values.rgb}},{key:"hslArray",value:function(){return this.values.hsl}},{key:"hsvArray",value:function(){return this.values.hsv}},{key:"hwbArray",value:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb}},{key:"cmykArray",value:function(){return this.values.cmyk}},{key:"rgbaArray",value:function(){var e=this.values.rgb;return e.concat([this.values.alpha])}},{key:"hslaArray",value:function(){var e=this.values.hsl;return e.concat([this.values.alpha])}},{key:"alpha",value:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)}},{key:"red",value:function(e){return this.setChannel("rgb",0,e)}},{key:"green",value:function(e){return this.setChannel("rgb",1,e)}},{key:"blue",value:function(e){return this.setChannel("rgb",2,e)}},{key:"hue",value:function(e){return this.setChannel("hsl",0,e)}},{key:"saturation",value:function(e){return this.setChannel("hsl",1,e)}},{key:"lightness",value:function(e){return this.setChannel("hsl",2,e)}},{key:"saturationv",value:function(e){return this.setChannel("hsv",1,e)}},{key:"whiteness",value:function(e){return this.setChannel("hwb",1,e)}},{key:"blackness",value:function(e){return this.setChannel("hwb",2,e)}},{key:"value",value:function(e){return this.setChannel("hsv",2,e)}},{key:"cyan",value:function(e){return this.setChannel("cmyk",0,e)}},{key:"magenta",value:function(e){return this.setChannel("cmyk",1,e)}},{key:"yellow",value:function(e){return this.setChannel("cmyk",2,e)}},{key:"black",value:function(e){return this.setChannel("cmyk",3,e)}},{key:"hexString",value:function(){return h["default"].hexString(this.values.rgb)}},{key:"rgbString",value:function(){return h["default"].rgbString(this.values.rgb,this.values.alpha)}},{key:"rgbaString",value:function(){return h["default"].rgbaString(this.values.rgb,this.values.alpha)}},{key:"percentString",value:function(){return h["default"].percentString(this.values.rgb,this.values.alpha)}},{key:"hslString",value:function(){return h["default"].hslString(this.values.hsl,this.values.alpha)}},{key:"hslaString",value:function(){return h["default"].hslaString(this.values.hsl,this.values.alpha)}},{key:"hwbString",value:function(){return h["default"].hwbString(this.values.hwb,this.values.alpha)}},{key:"keyword",value:function(){return h["default"].keyword(this.values.rgb,this.values.alpha)}},{key:"rgbNumber",value:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]}},{key:"luminosity",value:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=.03928>=r?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]}},{key:"contrast",value:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)}},{key:"level",value:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""}},{key:"dark",value:function(){var e=this.values.rgb,t=(299*e[0]+587*e[1]+114*e[2])/1e3;return 128>t}},{key:"light",value:function(){return!this.dark()}},{key:"negate",value:function(){for(var e=[],t=0;3>t;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this}},{key:"lighten",value:function(e){return this.values.hsl[2]+=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this}},{key:"darken",value:function(e){return this.values.hsl[2]-=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this}},{key:"saturate",value:function(e){return this.values.hsl[1]+=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this}},{key:"desaturate",value:function(e){return this.values.hsl[1]-=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this}},{key:"whiten",value:function(e){return this.values.hwb[1]+=this.values.hwb[1]*e,this.setValues("hwb",this.values.hwb),this}},{key:"blacken",value:function(e){return this.values.hwb[2]+=this.values.hwb[2]*e,this.setValues("hwb",this.values.hwb),this}},{key:"greyscale",value:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this}},{key:"clearer",value:function(e){return this.setValues("alpha",this.values.alpha-this.values.alpha*e),this}},{key:"opaquer",value:function(e){return this.setValues("alpha",this.values.alpha+this.values.alpha*e),this}},{key:"rotate",value:function(e){var t=this.values.hsl[0];return t=(t+e)%360,t=0>t?360+t:t,this.values.hsl[0]=t,this.setValues("hsl",this.values.hsl),this}},{key:"mix",value:function(e,t){var n=this,r=e,i=void 0!==t?t:.5,a=2*i-1,o=n.alpha()-r.alpha(),s=((a*o==-1?a:(a+o)/(1+a*o))+1)/2,u=1-s;return this.rgb(s*n.red()+u*r.red(),s*n.green()+u*r.green(),s*n.blue()+u*r.blue()).alpha(n.alpha()*i+r.alpha()*(1-i))}},{key:"toJSON",value:function(){return this.rgb()}},{key:"copy",value:function(){return(new e).rgb(this.rgb())}},{key:"getValues",value:function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=this.values[e][n];return 1!=this.values.alpha&&(t.a=this.values.alpha),t}},{key:"setValues",value:function(e,t){var n={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},r={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},i=1;if("alpha"==e)i=t;else if(t.length)this.values[e]=t.slice(0,e.length),i=t[e.length];else if(void 0!==t[e.charAt(0)]){for(var a=0;a<e.length;a++)this.values[e][a]=t[e.charAt(a)];i=t.a}else if(void 0!==t[n[e][0]]){for(var o=n[e],a=0;a<e.length;a++)this.values[e][a]=t[o[a]];i=t.alpha}if(this.values.alpha=Math.max(0,Math.min(1,void 0!==i?i:this.values.alpha)),"alpha"!=e){for(var a=0;a<e.length;a++){var s=Math.max(0,Math.min(r[e][a],this.values[e][a]));this.values[e][a]=Math.round(s)}for(var u in n){u!=e&&(this.values[u]=l["default"][e][u](this.values[e]));for(var a=0;a<u.length;a++){var s=Math.max(0,Math.min(r[u][a],this.values[u][a]));this.values[u][a]=Math.round(s)}}return!0}}},{key:"setSpace",value:function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)}},{key:"setChannel",value:function(e,t,n){return void 0===n?this.values[e][t]:(this.values[e][t]=n,this.setValues(e,this.values[e]),this)}}]),e}();f.Convert=l["default"],n["default"]=f,t.exports=n["default"]},{"color-convert":5,"color-string":6,underscore:8}],47:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={on:function(e,t){return this._events||(this._events={}),this._events[e]=this._events[e]||[],this._events[e].push(t),this},off:function(e,t){if(this._events[e]&&!t)delete this._events[e];else if(this._events[e]){e=this._events[e];for(var n=e.length;n--;)e[n]===t&&e.splice(n-1,1)}else 0===arguments.length&&(this._events={});return this},trigger:function(e){if(this._events&&this._events[e])for(var t=this._events[e],n=arguments.length>1?[arguments[1]]:[],r=t.length;r--;)t[r].apply(this,n);return this}};n["default"]=r,t.exports=n["default"]},{}],48:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("underscore"),s=r(o),u=e("./mixins"),l=e("./group"),c=r(l),h=function(){function e(t){i(this,e),this.moveable(),this.modules=[];var n=s["default"].defaults(t||{},{x:0,y:0,columns:10,rows:1,gutterWidth:0,gutterHeight:0,moduleWidth:50,moduleHeight:500});s["default"].isUndefined(n.gutter)||(n.gutterWidth=n.gutter,n.gutterHeight=n.gutter),s["default"].isUndefined(n.width)?n.width=n.moduleWidth*n.columns+n.gutterWidth*(n.columns-1):n.moduleWidth=(n.width-(n.columns-1)*n.gutterWidth)/n.columns,s["default"].isUndefined(n.height)?n.height=n.moduleHeight*n.rows+n.gutterHeight*(n.rows-1):n.moduleHeight=(n.height-(n.rows-1)*n.gutterHeight)/n.rows,s["default"].extend(this.vars,n),this.computeGrid()}return a(e,[{key:"add",value:function(e,t,n){if(t||(t=1),n||(n=1),!this.modules[t-1]||!this.modules[t-1][n-1])throw new Error("Column or row does not exist");this.modules[t-1][n-1].add(e)}},{key:"computeGrid",value:function(){this.modules=[];for(var e=0;e<this.vars.columns;e++){this.modules.push([]);for(var t=0;t<this.vars.rows;t++){var n=e*this.vars.moduleWidth+e*this.vars.gutterWidth,r=t*this.vars.moduleHeight+t*this.vars.gutterHeight;this.modules[e].push(new c["default"](n,r))}}}}]),e}();s["default"].extend(h.prototype,u.Shapeable,u.Moveable,{type:"grid"}),n["default"]=h,t.exports=n["default"]},{"./group":49,"./mixins":50,underscore:8}],49:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("underscore"),s=r(o),u=e("./mixins"),l=e("./utils"),c=r(l),h=function(){function e(t,n){i(this,e),this.moveable(),this.children=[],s["default"].isUndefined(t)||(this.vars.x=t),s["default"].isUndefined(n)||(this.vars.y=n)}return a(e,[{key:"add",value:function(e){e.parent&&e.parent.remove(e),this.children.push(e),e.parent=this}},{key:"remove",value:function(e){this.children=s["default"].without(this.children,e),e.parent=!1}},{key:"copy",value:function t(n){var t=new e;return s["default"].each(this.children,function(e){e.copy(t)}),c["default"].copyMixinVars(this,t),c["default"].groupLogic(t,this.parent,n),t}}]),e}();s["default"].extend(h.prototype,u.Moveable,u.Groupable,{type:"group"}),n["default"]=h,t.exports=n["default"]},{"./mixins":50,"./utils":61,underscore:8}],50:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("./utils"),a=(r(i),e("./color")),o=r(a),s={moveable:function(e){this.vars=this.vars||{},this.vars.x=e?e.vars.x:0,this.vars.y=e?e.vars.y:0,this.vars.rotation=e?e.vars.rotation:0,this.vars.rotationX=e?e.vars.rotationX:0,this.vars.rotationY=e?e.vars.rotationY:0},move:function(e,t,n){return this.vars.x=n?this.vars.x+e:e,this.vars.y=n?this.vars.y+t:t,this},rotate:function(e,t,n,r){return this.vars.rotation=e,(t||n)&&(this.vars.rotationX=t||0,this.vars.rotationY=n||0),r&&(this.vars.rotationX+=this.vars.x,this.vars.rotationY+=this.vars.y),this}},u={sizeable:function(e){this.vars=this.vars||{},this.vars.width=e?e.vars.width:0,this.vars.height=e?e.vars.height:0}},l={styleable:function(e){this.vars=this.vars||{},this.vars.fill=new o["default"](128),this.vars.stroke=new o["default"](0),e&&(e.vars.fill===!1?this.vars.fill=!1:e.vars.fill&&(this.vars.fill=e.vars.fill.copy()),e.vars.stroke===!1?this.vars.stroke=!1:e.vars.stroke&&(this.vars.stroke=e.vars.stroke.copy()))},fill:function(e,t,n,r,i){return e===!1?this.vars.fill=!1:this.vars.fill=new o["default"](e,t,n,r,i),this},stroke:function(e,t,n,r,i){return e===!1?this.vars.stroke=!1:this.vars.stroke=new o["default"](e,t,n,r,i),this},strokeWidth:function(e){return this.vars.strokeWidth=e,this},strokeCap:function(e){return this.vars.strokeCap=e,this},strokeJoin:function(e){return this.vars.strokeJoin=e,this},strokeMiterlimit:function(e){return this.vars.strokeMiterlimit=e,this},strokeDash:function(e){return this.vars.strokeDash=e,this},strokeDashOffset:function(e){return this.vars.strokeDashOffset=e,this}},c={addParent:function(e){return e.add(this),this},removeParent:function(){return this.parent&&this.parent.remove(this),this}};n.Moveable=s,n.Sizeable=u,n.Styleable=l,n.Groupable=c},{"./color":46,"./utils":61}],51:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("underscore"),s=r(o),u=e("./shapes/circle"),l=r(u),c=e("./shapes/rectangle"),h=r(c),f=e("./shapes/line"),v=r(f),d=e("virtual-dom/h"),p=(r(d),e("virtual-dom/diff")),y=r(p),g=e("virtual-dom/patch"),m=r(g),b=e("virtual-dom/create-element"),x=r(b),k=e("virtual-dom/virtual-hyperscript/svg"),w=r(k),_=function(){function e(t){i(this,e),this.params=t,this.tree=w["default"]("svg",{width:this.s(t.width),height:this.s(t.height)}),this.el=x["default"](this.tree)}return a(e,[{key:"render",value:function(e,t){var n=w["default"]("svg",{width:this.s(this.params.width),height:this.s(this.params.height)},[this.objectsToSVG(e.children,t)]),r=y["default"](this.tree,n);this.el=m["default"](this.el,r),this.tree=n}},{key:"objectToSVG",value:function(e,t){return this[e.type+"ToSVG"]?this[e.type+"ToSVG"](e,t):void console.error("Rune.Render: Object not recognized",e)}},{key:"objectsToSVG",value:function(e,t){var e=s["default"].map(e,s["default"].bind(function(e){return this.objectToSVG(e,t)},this));return s["default"].flatten(e,!0)}},{key:"rectangleToSVG",value:function(e){var t={x:this.s(e.vars.x),y:this.s(e.vars.y),width:this.s(e.vars.width),height:this.s(e.vars.height)};return this.transformAttribute(t,e),this.styleableAttributes(e,t),w["default"]("rect",t)}},{key:"ellipseToSVG",value:function(e){var t={cx:this.s(e.vars.x),cy:this.s(e.vars.y),rx:this.s(e.vars.width/2),ry:this.s(e.vars.height/2)};return this.transformAttribute(t,e),this.styleableAttributes(e,t),w["default"]("ellipse",t)}},{key:"circleToSVG",value:function(e){var t={cx:this.s(e.vars.x),cy:this.s(e.vars.y),r:this.s(e.vars.radius)};return this.transformAttribute(t,e),this.styleableAttributes(e,t),w["default"]("circle",t)}},{key:"lineToSVG",value:function(e){var t={x1:this.s(e.vars.x),y1:this.s(e.vars.y),x2:this.s(e.vars.x2),y2:this.s(e.vars.y2)};return this.transformAttribute(t,e),this.styleableAttributes(e,t),w["default"]("line",t)}},{key:"triangleToSVG",value:function(e){var t={points:e.vars.x+" "+e.vars.y+" "+e.vars.x2+" "+e.vars.y2+" "+e.vars.x3+" "+e.vars.y3};return this.transformAttribute(t,e),this.styleableAttributes(e,t),w["default"]("polygon",t)}},{key:"polygonToSVG",value:function(e){var t={points:s["default"].map(e.vars.vectors,function(e){return e.x+" "+e.y}).join(" ")};return this.transformAttribute(t,e),this.styleableAttributes(e,t),w["default"]("polygon",t)}},{key:"pathToSVG",value:function(e,t){var n={};this.dAttribute(e,n),this.transformAttribute(n,e),this.styleableAttributes(e,n),this.optionalAttributes(e,n,{fillRule:"fill-rule"});var r=[w["default"]("path",n)];return t&&t.debug&&(r=r.concat(this.debugPathToSVG(e))),r}},{key:"textToSVG",value:function(e,t){var n={x:this.s(e.vars.x),y:this.s(e.vars.y)};if(this.transformAttribute(n,e),this.styleableAttributes(e,n),e.vars.textAlign){var r={left:"start",center:"middle",right:"end"};n["text-anchor"]=r[e.vars.textAlign]}if(this.optionalAttributes(e,n,{fontFamily:"font-family",textAlign:"text-align",fontStyle:"font-style",fontWeight:"font-weight",fontSize:"font-size",letterSpacing:"letter-spacing",textDecoration:"text-decoration"}),e.vars.textAlign){var r={left:"start",center:"middle",right:"end"};n["text-anchor"]=r[e.vars.textAlign]}return w["default"]("text",n,e.vars.text)}},{key:"groupToSVG",value:function(e){if(!s["default"].isEmpty(e.children)){var t={};return this.transformAttribute(t,e),w["default"]("g",t,this.objectsToSVG(e.children))}}},{key:"gridToSVG",value:function(e,t){var n={};this.transformAttribute(n,e);var r=[];return s["default"].each(e.modules,s["default"].bind(function(e){r.push(this.objectsToSVG(e))},this)),t&&t.debug&&(r=r.concat(this.debugGridToSVG(e))),w["default"]("g",n,s["default"].flatten(r,!0))}},{key:"debugPathToSVG",value:function(e){var t=this,n=[];return s["default"].each(e.vars.anchors,function(r,i){if("cubic"==r.command){n.push(t.debugLine(e.vars.x+r.vec1.x,e.vars.y+r.vec1.y,e.vars.x+r.vec3.x,e.vars.y+r.vec3.y)),n.push(t.debugLine(e.vars.x+r.vec2.x,e.vars.y+r.vec2.y,e.vars.x+r.vec3.x,e.vars.y+r.vec3.y));for(var i=1;4>i;i++)n.push(t.debugCircle(e.vars.x+r["vec"+i].x,e.vars.y+r["vec"+i].y))}else if("quad"==r.command&&!s["default"].isUndefined(r.vec2)){n.push(t.debugLine(e.vars.x+r.vec1.x,e.vars.y+r.vec1.y,e.vars.x+r.vec2.x,e.vars.y+r.vec2.y));for(var i=1;3>i;i++)n.push(t.debugCircle(e.vars.x+r["vec"+i].x,e.vars.y+r["vec"+i].y))}}),n}},{key:"debugGridToSVG",value:function(e){var t=[];t.push(this.debugRect(0,0,e.vars.width,e.vars.height));for(var n=0,r=0;r<e.vars.columns-1;r++)n+=e.vars.moduleWidth,t.push(this.debugLine(n,0,n,e.vars.height)),n+=e.vars.gutterWidth,t.push(this.debugLine(n,0,n,e.vars.height));for(var i=0,r=0;r<e.vars.rows-1;r++)i+=e.vars.moduleHeight,t.push(this.debugLine(0,i,e.vars.width,i)),i+=e.vars.gutterHeight,t.push(this.debugLine(0,i,e.vars.width,i));return t}},{key:"debugCircle",value:function(e,t){var n=new l["default"](e,t,4).fill(212,18,229).stroke(!1);return this.circleToSVG(n)}},{key:"debugRect",value:function(e,t,n,r){var i=new h["default"](e,t,n,r).stroke(212,18,229).fill(!1);return this.rectangleToSVG(i)}},{key:"debugLine",value:function(e,t,n,r){var i=new v["default"](e,t,n,r).stroke(212,18,229);return this.lineToSVG(i)}},{key:"optionalAttributes",value:function(e,t,n){s["default"].each(n,function(n,r){e.vars[r]&&(t[n]=this.s(e.vars[r]))},this)}},{key:"sizeableAttributes",value:function(e,t){t.width=this.s(e.vars.width),t.height=this.s(e.vars.height)}},{key:"styleableAttributes",value:function(e,t){function n(e){var t=e.rgb();return"rgb("+t.r+", "+t.g+", "+t.b+")"}if(e.vars.fill===!1)t.fill="none";else if(e.vars.fill){t.fill=n(e.vars.fill);var r=e.vars.fill.alpha();1>r&&(t["fill-opacity"]=this.s(r))}if(e.vars.stroke===!1)t.stroke="none";else if(e.vars.stroke){t.stroke=n(e.vars.stroke);var r=e.vars.stroke.alpha();1>r&&(t["stroke-opacity"]=this.s(r))}e.vars.strokeWidth&&(t["stroke-width"]=this.s(e.vars.strokeWidth)),e.vars.strokeCap&&(t["stroke-linecap"]=e.vars.strokeCap),e.vars.strokeJoin&&(t["stroke-linejoin"]=e.vars.strokeJoin),e.vars.strokeMiterlimit&&(t["stroke-miterlimit"]=this.s(e.vars.strokeMiterlimit)),e.vars.strokeDash&&(t["stroke-dasharray"]=e.vars.strokeDash),e.vars.strokeDashOffset&&(t["stroke-dashoffset"]=this.s(e.vars.strokeDashOffset))}},{key:"transformAttribute",value:function(e,t){var n=t.vars,r=[];if(n.rotation){var i="rotate("+n.rotation;(n.rotationX||n.rotationY)&&(i+=" "+n.rotationX+" "+n.rotationY),r.push(i+")")}"group"!=t.type&&"path"!=t.type&&"polygon"!=t.type&&"grid"!=t.type||!n.x&&!n.y||r.push("translate("+n.x+" "+n.y+")"),r.length>0&&(e.transform=r.join(" ").trim())}},{key:"dAttribute",value:function(e,t){t.d=s["default"].map(e.vars.anchors,function(e){return"move"==e.command?(e.relative?"m":"M")+" "+[e.vec1.x,e.vec1.y].join(" "):"line"==e.command?(e.relative?"l":"L")+" "+[e.vec1.x,e.vec1.y].join(" "):"cubic"==e.command?(e.relative?"c":"C")+" "+[e.vec1.x,e.vec1.y,e.vec2.x,e.vec2.y,e.vec3.x,e.vec3.y].join(" "):"quad"!=e.command||s["default"].isUndefined(e.vec2)?"quad"==e.command?(e.relative?"t":"T")+" "+[e.vec1.x,e.vec1.y].join(" "):"close"==e.command?"Z":void 0:(e.relative?"q":"Q")+" "+[e.vec1.x,e.vec1.y,e.vec2.x,e.vec2.y].join(" ")}).join(" ").trim()}},{key:"s",value:function(e){return s["default"].isString(e)||s["default"].isUndefined(e.toString)?e:e.toString()}}]),e}();n["default"]=_,t.exports=n["default"]},{"./shapes/circle":53,"./shapes/line":55,"./shapes/rectangle":58,underscore:8,"virtual-dom/create-element":9,"virtual-dom/diff":10,"virtual-dom/h":11,"virtual-dom/patch":19,"virtual-dom/virtual-hyperscript/svg":32}],52:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("underscore"),s=r(o),u=e("./vector"),l=r(u),c=e("./anchor"),h=r(c),f=e("./color"),v=r(f),d=e("./group"),p=r(d),y=e("./grid"),g=r(y),m=e("./utils"),b=r(m),x=e("./events"),k=r(x),w=e("./render"),_=r(w),M=e("./shapes/circle"),S=r(M),j=e("./shapes/ellipse"),z=r(j),O=e("./shapes/line"),A=r(O),T=e("./shapes/triangle"),E=r(T),V=e("./shapes/path"),C=r(V),P=e("./shapes/polygon"),N=r(P),L=e("./shapes/rectangle"),R=r(L),q=e("./shapes/text"),G=r(q),F=e("./mixins"),U=function(){function e(t){i(this,e);var n=s["default"].defaults(t||{},{width:640,height:480,debug:!1,frameRate:60});this.width=n.width,this.height=n.height,
this.renderer=new _["default"](n),this.stage=new p["default"],this.debug=n.debug,this.frameCount=1,this.frameRate=n.frameRate,n.container&&"undefined"!=typeof window&&(s["default"].isString(n.container)&&(n.container=document.querySelector(n.container)),n.container?this.appendTo(n.container):console.error("Container element not found")),this.initEvents()}return a(e,[{key:"initEvents",value:function(){"undefined"!=typeof window&&this.initMouseMove()}},{key:"initMouseMove",value:function(){var e=s["default"].bind(function(e){var t=this.renderer.el.getBoundingClientRect();this.trigger("mousemove",{x:e.pageX-t.left,y:e.pageY-t.top})},this);document.addEventListener("mousemove",e,!1)}},{key:"group",value:function t(e,n,r){var t=new p["default"](e,n);return b["default"].groupLogic(t,this.stage,r),t}},{key:"triangle",value:function(e,t,n,r,i,a,o){var s=new E["default"](e,t,n,r,i,a);return b["default"].groupLogic(s,this.stage,o),s}},{key:"rect",value:function n(e,t,r,i,a){var n=new R["default"](e,t,r,i);return b["default"].groupLogic(n,this.stage,a),n}},{key:"ellipse",value:function(e,t,n,r,i){var a=new z["default"](e,t,n,r);return b["default"].groupLogic(a,this.stage,i),a}},{key:"circle",value:function(e,t,n,r){var i=new S["default"](e,t,n);return b["default"].groupLogic(i,this.stage,r),i}},{key:"line",value:function r(e,t,n,i,a){var r=new A["default"](e,t,n,i);return b["default"].groupLogic(r,this.stage,a),r}},{key:"polygon",value:function(e,t,n){var r=new N["default"](e,t);return b["default"].groupLogic(r,this.stage,n),r}},{key:"path",value:function o(e,t,n){var o=new C["default"](e,t);return b["default"].groupLogic(o,this.stage,n),o}},{key:"text",value:function u(u,e,t,n){var u=new G["default"](u,e,t);return b["default"].groupLogic(u,this.stage,n),u}},{key:"grid",value:function l(e,t){var l=new g["default"](e);return b["default"].groupLogic(l,this.stage,t),l}},{key:"play",value:function(){this.frameRate>=60?this.playNow():setTimeout(s["default"].bind(this.playNow,this),1e3/this.frameRate)}},{key:"playNow",value:function(){this.trigger("draw",{frameCount:this.frameCount}),this.animationFrame=requestAnimationFrame(s["default"].bind(this.play,this)),this.draw()}},{key:"pause",value:function(){cancelAnimationFrame(this.animationFrame)}},{key:"getEl",value:function(){return this.renderer.el}},{key:"appendTo",value:function(e){return e.appendChild(this.renderer.el),this}},{key:"draw",value:function(){this.renderer.render(this.stage,{debug:this.debug}),this.frameCount+=1}}]),e}();s["default"].extend(U,b["default"]),s["default"].extend(U.prototype,k["default"]),U.Vector=l["default"],U.Anchor=h["default"],U.Color=v["default"],U.Group=p["default"],U.Grid=g["default"],U.Circle=S["default"],U.Ellipse=z["default"],U.Line=A["default"],U.Triangle=E["default"],U.Path=C["default"],U.Polygon=N["default"],U.Rectangle=R["default"],U.Text=G["default"],U.Moveable=F.Moveable,U.Styleable=F.Styleable,U.Sizeable=F.Sizeable,U.Groupable=F.Groupable,n["default"]=U,t.exports=n["default"]},{"./anchor":45,"./color":46,"./events":47,"./grid":48,"./group":49,"./mixins":50,"./render":51,"./shapes/circle":53,"./shapes/ellipse":54,"./shapes/line":55,"./shapes/path":56,"./shapes/polygon":57,"./shapes/rectangle":58,"./shapes/text":59,"./shapes/triangle":60,"./utils":61,"./vector":62,underscore:8}],53:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("underscore"),s=r(o),u=e("../mixins"),l=e("./ellipse"),c=r(l),h=e("../utils"),f=r(h),v=function(){function e(t,n,r){i(this,e),this.moveable(),this.styleable(),this.vars.x=t,this.vars.y=n,this.vars.radius=r}return a(e,[{key:"toPolygon",value:function(e,t){var n=new c["default"](this.vars.x,this.vars.y,2*this.vars.radius,2*this.vars.radius),r=n.toPolygon(e,!1);return f["default"].copyMixinVars(this,r),f["default"].groupLogic(r,this.parent,t),r}},{key:"copy",value:function t(n){var t=new e;return t.vars.radius=this.vars.radius,f["default"].copyMixinVars(this,t),f["default"].groupLogic(t,this.parent,n),t}}]),e}();s["default"].extend(v.prototype,u.Moveable,u.Styleable,u.Groupable,{type:"circle"}),n["default"]=v,t.exports=n["default"]},{"../mixins":50,"../utils":61,"./ellipse":54,underscore:8}],54:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("underscore"),s=r(o),u=e("../mixins"),l=e("./polygon"),c=r(l),h=e("../utils"),f=r(h),v=function(){function e(t,n,r,a){i(this,e),this.moveable(),this.sizeable(),this.styleable(),this.vars.x=t,this.vars.y=n,this.vars.width=r,this.vars.height=a}return a(e,[{key:"toPolygon",value:function(e,t){var n=16;if(e&&e.spacing){var r=Math.PI*(this.vars.width+this.vars.height);n=r/e.spacing}for(var i=360/n,a=new c["default"](this.vars.x,this.vars.y),o=0;n>o;o++){var s=Math.cos(f["default"].radians(o*i))*this.vars.width,u=Math.sin(f["default"].radians(o*i))*this.vars.height;a.lineTo(s,u)}return f["default"].copyMixinVars(this,a),f["default"].groupLogic(a,this.parent,t),a}},{key:"copy",value:function t(n){var t=new e;return f["default"].copyMixinVars(this,t),f["default"].groupLogic(t,this.parent,n),t}}]),e}();s["default"].extend(v.prototype,u.Moveable,u.Sizeable,u.Styleable,u.Groupable,{type:"ellipse"}),n["default"]=v,t.exports=n["default"]},{"../mixins":50,"../utils":61,"./polygon":57,underscore:8}],55:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("underscore"),s=r(o),u=e("../mixins"),l=e("../utils"),c=r(l),h=function(){function e(t,n,r,a){i(this,e),this.moveable(),this.styleable(),this.vars.x=t,this.vars.y=n,this.vars.x2=r,this.vars.y2=a}return a(e,[{key:"copy",value:function t(n){var t=new e;return t.vars.x2=this.vars.x2,t.vars.y2=this.vars.y2,c["default"].copyMixinVars(this,t),c["default"].groupLogic(t,this.parent,n),t}}]),e}();s["default"].extend(h.prototype,u.Moveable,u.Styleable,u.Groupable,{type:"line"}),n["default"]=h,t.exports=n["default"]},{"../mixins":50,"../utils":61,underscore:8}],56:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("underscore"),s=r(o),u=e("../mixins"),l=e("../anchor"),c=r(l),h=e("../vector"),f=r(h),v=e("./polygon"),d=r(v),p=e("../utils"),y=r(p),g=function(){function e(t,n){i(this,e),this.moveable(),this.styleable(),this.vars.anchors=[],s["default"].isUndefined(t)||(this.vars.x=t),s["default"].isUndefined(n)||(this.vars.y=n)}return a(e,[{key:"moveTo",value:function(e,t){return this.vars.anchors.push((new c["default"]).setMove(e,t)),this}},{key:"lineTo",value:function(e,t){return this.checkStartMove(),this.vars.anchors.push((new c["default"]).setLine(e,t)),this}},{key:"curveTo",value:function(e,t,n,r,i,a){return this.checkStartMove(),this.vars.anchors.push((new c["default"]).setCurve(e,t,n,r,i,a)),this}},{key:"closePath",value:function(){return this.checkStartMove(),this.vars.anchors.push((new c["default"]).setClose()),this}},{key:"startVector",value:function(){return this.vars.anchors[0]&&"move"==this.vars.anchors[0].command?this.vars.anchors[0].vec1.copy():new f["default"](0,0)}},{key:"subpaths",value:function(e){var t=[],n=0;return s["default"].each(this.vars.anchors,function(r,i){var a="move"==r.command,o=this.vars.anchors[i-1]&&"close"==this.vars.anchors[i-1].command,s=i==this.vars.anchors.length-1;if(i>n&&(a||o||s)){s&&i++;var u=this.copy(e);u.vars.anchors=u.vars.anchors.slice(n,i),t.push(u),n=i}},this),t}},{key:"length",value:function(){for(var e=0,t=this.subpaths(!1),n=0;n<t.length;n++)for(var r=t[n].vars.anchors,i=0;i<r.length-1;i++){var a=r[i],o=a.vec3||a.vec2||a.vec1,s=r[i+1];"close"==s.command&&(s=t[n].startVector());var u=s.sub(o);e+=u.length()}return e}},{key:"vectorAtLength",value:function(e){for(var t=0,n=this.subpaths(!1),r=0;r<n.length;r++)for(var i=n[r].vars.anchors,a=0;a<i.length-1;a++){var o=i[a],s=o.vec3||o.vec2||o.vec1,u=i[a+1];if("close"==u.command){var l=n[r].startVector();u=(new c["default"]).setLine(l.x,l.y)}var h=u.sub(s),f=h.length();if(t+f>e){var v=e-t;return s.add(h.vectorAt(v/f))}t+=f}return this.startVector()}},{key:"vectorAt",value:function(e){return this.vectorAtLength(this.length()*e)}},{key:"toPolygons",value:function(e,t){var n=this.subpaths(!1),r=[];return e&&e.spacing&&s["default"].each(n,function(n){for(var i=new d["default"](n.vars.x,n.vars.y),a=n.length(),o=a/e.spacing,s=0;o>s;s++){var u=n.vectorAtLength(s*e.spacing);i.lineTo(u.x,u.y)}y["default"].copyMixinVars(this,i),y["default"].groupLogic(i,this.parent,t),r.push(i)},this),r}},{key:"copy",value:function t(n){var t=new e;return t.vars.anchors=s["default"].map(this.vars.anchors,function(e){return e.copy()}),y["default"].copyMixinVars(this,t),y["default"].groupLogic(t,this.parent,n),t}},{key:"fillRule",value:function(e){return this.vars.fillRule=e,this}},{key:"checkStartMove",value:function(){0==this.vars.anchors.length&&this.moveTo(0,0)}}]),e}();s["default"].extend(g.prototype,u.Moveable,u.Styleable,u.Groupable,{type:"path"}),n["default"]=g,t.exports=n["default"]},{"../anchor":45,"../mixins":50,"../utils":61,"../vector":62,"./polygon":57,underscore:8}],57:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("underscore"),s=r(o),u=e("../mixins"),l=e("../vector"),c=r(l),h=e("../utils"),f=r(h),v=function(){function e(t,n){i(this,e),this.moveable(),this.styleable(),this.vars.vectors=[],s["default"].isUndefined(t)||(this.vars.x=t),s["default"].isUndefined(n)||(this.vars.y=n)}return a(e,[{key:"lineTo",value:function(e,t){return this.vars.vectors.push(new c["default"](e,t)),this}},{key:"length",value:function(){for(var e=0,t=0;t<this.vars.vectors.length;t++){var n=this.vars.vectors[t],r=this.vars.vectors[(t+1)%this.vars.vectors.length];e+=r.sub(n).length()}return e}},{key:"vectorAtLength",value:function(e){for(var t=0,n=0;n<this.vars.vectors.length;n++){var r=this.vars.vectors[n],i=this.vars.vectors[(n+1)%this.vars.vectors.length],a=i.sub(r),o=a.length();if(t+o>e){var u=e-t;return r.add(a.normalize().multiply(u))}t+=o}return s["default"].first(this.vars.vectors).copy()}},{key:"vectorAt",value:function(e){return this.vectorAtLength(this.length()*e)}},{key:"bounds",value:function(){var e=void 0,t=void 0,n=void 0,r=void 0;return s["default"].each(this.vars.vectors,function(i){(s["default"].isUndefined(n)||i.x<n)&&(n=i.x),(s["default"].isUndefined(e)||i.x>e)&&(e=i.x),(s["default"].isUndefined(r)||i.y<r)&&(r=i.y),(s["default"].isUndefined(t)||i.y>t)&&(t=i.y)}),{x:n,y:r,width:e-n,height:t-r}}},{key:"centroid",value:function(){for(var e=this.vars.vectors,t=0,n=0,r=0,i=0;i<e.length-1;i++)t+=e[i].x*e[i+1].y-e[i+1].x*e[i].y,n+=(e[i].x+e[i+1].x)*(e[i].x*e[i+1].y-e[i+1].x*e[i].y),r+=(e[i].y+e[i+1].y)*(e[i].x*e[i+1].y-e[i+1].x*e[i].y);t/=2;var a=n/(6*t),o=r/(6*t);return new c["default"](a,o)}},{key:"toPolygon",value:function(t,n){if(t&&t.spacing){for(var r=new e(this.vars.x,this.vars.y),i=this.length(),a=i/t.spacing,o=0;a>o;o++){var s=this.vectorAtLength(o*t.spacing);r.lineTo(s.x,s.y)}return f["default"].copyMixinVars(this,r),f["default"].groupLogic(r,this.parent,n),r}return this}},{key:"copy",value:function t(n){var t=new e;return t.vars.vectors=s["default"].map(this.vars.vectors,function(e){return e.copy()}),f["default"].copyMixinVars(this,t),f["default"].groupLogic(t,this.parent,n),t}}]),e}();s["default"].extend(v.prototype,u.Moveable,u.Styleable,u.Groupable,{type:"polygon"}),n["default"]=v,t.exports=n["default"]},{"../mixins":50,"../utils":61,"../vector":62,underscore:8}],58:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("underscore"),s=r(o),u=e("../mixins"),l=e("./polygon"),c=r(l),h=e("../utils"),f=r(h),v=function(){function e(t,n,r,a){i(this,e),this.moveable(),this.sizeable(),this.styleable(),this.vars.x=t,this.vars.y=n,this.vars.width=r,this.vars.height=a}return a(e,[{key:"toPolygon",value:function(e,t){var n=new c["default"](this.vars.x,this.vars.y).lineTo(0,0).lineTo(this.vars.width,0).lineTo(this.vars.width,this.vars.height).lineTo(0,this.vars.height);return e&&(n=n.toPolygon(e,!1)),f["default"].copyMixinVars(this,n),f["default"].groupLogic(n,this.parent,t),n}},{key:"copy",value:function t(n){var t=new e;return f["default"].copyMixinVars(this,t),f["default"].groupLogic(t,this.parent,n),t}}]),e}();s["default"].extend(v.prototype,u.Moveable,u.Sizeable,u.Styleable,u.Groupable,{type:"rectangle"}),n["default"]=v,t.exports=n["default"]},{"../mixins":50,"../utils":61,"./polygon":57,underscore:8}],59:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("underscore"),s=r(o),u=e("../mixins"),l=e("../utils"),c=r(l),h=function(){function e(t,n,r){i(this,e),this.moveable(),this.styleable(),this.vars.text=t,this.vars.x=n,this.vars.y=r}return a(e,[{key:"toPolygon",value:function(){throw new Error("You need the Rune.Font plugin to convert text to polygon")}},{key:"textAlign",value:function(e){return this.vars.textAlign=e,this}},{key:"fontFamily",value:function(e){return this.vars.fontFamily=e,this}},{key:"fontStyle",value:function(e){return this.vars.fontStyle=e,this}},{key:"fontWeight",value:function(e){return this.vars.fontWeight=e,this}},{key:"fontSize",value:function(e){return this.vars.fontSize=e,this}},{key:"letterSpacing",value:function(e){return this.vars.letterSpacing=e,this}},{key:"textDecoration",value:function(e){return this.vars.textDecoration=e,this}},{key:"copy",value:function t(n){var t=new e;return t.vars.text=this.vars.text,c["default"].copyMixinVars(this,t),c["default"].groupLogic(t,this.parent,n),t}}]),e}();s["default"].extend(h.prototype,u.Moveable,u.Styleable,u.Groupable,{type:"text"}),n["default"]=h,t.exports=n["default"]},{"../mixins":50,"../utils":61,underscore:8}],60:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("underscore"),s=r(o),u=e("../mixins"),l=e("../utils"),c=r(l),h=function(){function e(t,n,r,a,o,s){i(this,e),this.moveable(),this.styleable(),this.vars.x=t,this.vars.y=n,this.vars.x2=r,this.vars.y2=a,this.vars.x3=o,this.vars.y3=s}return a(e,[{key:"copy",value:function t(n){var t=new e;return t.vars.x2=this.vars.x2,t.vars.y2=this.vars.y2,t.vars.x3=this.vars.x3,t.vars.y3=this.vars.y3,c["default"].copyMixinVars(this,t),c["default"].groupLogic(t,this.parent,n),t}}]),e}();s["default"].extend(h.prototype,u.Moveable,u.Styleable,u.Groupable,{type:"triangle"}),n["default"]=h,t.exports=n["default"]},{"../mixins":50,"../utils":61,underscore:8}],61:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e("underscore"),a=r(i),o={random:function(e,t){return a["default"].isUndefined(t)&&(t=e,e=0),e+Math.random()*(t-e)},degrees:function(e){return e*(180/Math.PI)},radians:function(e){return e*(Math.PI/180)},groupLogic:function(e,t,n){n&&"group"==n.type?n.add(e):n!==!1&&t&&"group"==t.type&&t.add(e)},copyMixinVars:function(e,t){e.moveable&&t.moveable&&t.moveable(e),e.sizeable&&t.sizeable&&t.sizeable(e),e.styleable&&t.styleable&&t.styleable(e)}};n["default"]=o,t.exports=n["default"]},{underscore:8}],62:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("underscore"),s=(r(o),e("./utils")),u=r(s),l=function(){function e(t,n){i(this,e),this.x=t||0,this.y=n||0}return a(e,[{key:"set",value:function(e,t){this.x=e,this.y=t}},{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"sub",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"multiply",value:function(t){return new e(this.x*t,this.y*t)}},{key:"divide",value:function(t){var n=new e(0,0);return t&&(n.x=this.x/t,n.y=this.y/t),n}},{key:"distance",value:function(e){return Math.sqrt(this.distanceSquared(e))}},{key:"distanceSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"lerp",value:function(t,n){var r=(t.x-this.x)*n+this.x,i=(t.y-this.y)*n+this.y;return new e(r,i)}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"length",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"lengthSquared",value:function(){return this.x*this.x+this.y*this.y}},{key:"normalize",value:function(){return this.divide(this.length())}},{key:"rotation",value:function(){return u["default"].degrees(Math.atan2(this.y,this.x))}},{key:"rotate",value:function(t){var n=u["default"].radians(this.rotation()+t),r=this.length(),i=Math.cos(n)*r,a=Math.sin(n)*r;return new e(i,a)}},{key:"copy",value:function(){return new e(this.x,this.y)}},{key:"toString",value:function(){return"(x: "+this.x+", y: "+this.y+")"}}]),e}();n["default"]=l,t.exports=n["default"]},{"./utils":61,underscore:8}]},{},[52])(52)});